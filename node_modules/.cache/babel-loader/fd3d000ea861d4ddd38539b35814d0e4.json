{"ast":null,"code":"import React, { memo, useContext, useRef, useCallback } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { ActionContext } from '../../../../utilities/listbox/context.js';\nimport styles from './Option.scss.js';\nimport { useListbox } from '../../../../utilities/listbox/hooks.js';\nimport { MappedActionContext } from '../../../../utilities/autocomplete/context.js';\nimport { useSection } from '../Section/hooks.js';\nimport { listboxWithinSectionDataSelector } from '../Section/selectors.js';\nimport { TextOption } from '../TextOption/TextOption.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { UnstyledLink } from '../../../UnstyledLink/UnstyledLink.js';\nconst Option = /*#__PURE__*/memo(function Option(_ref) {\n  let {\n    value,\n    children,\n    selected,\n    disabled = false,\n    accessibilityLabel,\n    divider\n  } = _ref;\n  const {\n    onOptionSelect\n  } = useListbox();\n  const isAction = useContext(ActionContext);\n  const {\n    role,\n    url,\n    external,\n    onAction,\n    destructive\n  } = useContext(MappedActionContext);\n  const listItemRef = useRef(null);\n  const domId = useUniqueId('ListboxOption');\n  const sectionId = useSection();\n  const isWithinSection = Boolean(sectionId);\n  const handleOptionSelect = useCallback(event => {\n    event.preventDefault();\n    onAction && onAction();\n\n    if (listItemRef.current && !onAction) {\n      onOptionSelect({\n        domId,\n        value,\n        element: listItemRef.current,\n        disabled\n      });\n    }\n  }, [domId, onOptionSelect, value, disabled, onAction]); // prevents lost of focus on Textfield\n\n  const handleMouseDown = event => {\n    event.preventDefault();\n  };\n\n  const content = typeof children === 'string' ? /*#__PURE__*/React.createElement(TextOption, {\n    selected: selected,\n    disabled: disabled\n  }, children) : children;\n  const sectionAttributes = {\n    [listboxWithinSectionDataSelector.attribute]: isWithinSection\n  };\n  const legacyRoleSupport = role || 'option';\n  const contentMarkup = url ? /*#__PURE__*/React.createElement(UnstyledLink, {\n    url: url,\n    external: external\n  }, content) : content;\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({}, sectionAttributes, {\n    \"data-listbox-option\": true,\n    \"data-listbox-option-action\": isAction,\n    \"data-listbox-option-value\": value,\n    \"data-listbox-option-destructive\": destructive,\n    \"data-within-section\": isWithinSection,\n    className: classNames(styles.Option, divider && styles.divider),\n    id: domId,\n    ref: listItemRef,\n    tabIndex: -1,\n    role: legacyRoleSupport,\n    \"aria-label\": accessibilityLabel,\n    \"aria-selected\": selected,\n    \"aria-disabled\": disabled,\n    onClick: disabled ? undefined : handleOptionSelect,\n    onKeyDown: disabled ? undefined : handleOptionSelect,\n    onMouseDown: handleMouseDown\n  }), contentMarkup);\n});\nexport { Option };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/Listbox/components/Option/Option.js"],"names":["React","memo","useContext","useRef","useCallback","classNames","ActionContext","styles","useListbox","MappedActionContext","useSection","listboxWithinSectionDataSelector","TextOption","useUniqueId","UnstyledLink","Option","value","children","selected","disabled","accessibilityLabel","divider","onOptionSelect","isAction","role","url","external","onAction","destructive","listItemRef","domId","sectionId","isWithinSection","Boolean","handleOptionSelect","event","preventDefault","current","element","handleMouseDown","content","createElement","sectionAttributes","attribute","legacyRoleSupport","contentMarkup","Object","assign","className","id","ref","tabIndex","onClick","undefined","onKeyDown","onMouseDown"],"mappings":"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","sourcesContent":["import React, { memo, useContext, useRef, useCallback } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { ActionContext } from '../../../../utilities/listbox/context.js';\nimport styles from './Option.scss.js';\nimport { useListbox } from '../../../../utilities/listbox/hooks.js';\nimport { MappedActionContext } from '../../../../utilities/autocomplete/context.js';\nimport { useSection } from '../Section/hooks.js';\nimport { listboxWithinSectionDataSelector } from '../Section/selectors.js';\nimport { TextOption } from '../TextOption/TextOption.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { UnstyledLink } from '../../../UnstyledLink/UnstyledLink.js';\n\nconst Option = /*#__PURE__*/memo(function Option({\n  value,\n  children,\n  selected,\n  disabled = false,\n  accessibilityLabel,\n  divider\n}) {\n  const {\n    onOptionSelect\n  } = useListbox();\n  const isAction = useContext(ActionContext);\n  const {\n    role,\n    url,\n    external,\n    onAction,\n    destructive\n  } = useContext(MappedActionContext);\n  const listItemRef = useRef(null);\n  const domId = useUniqueId('ListboxOption');\n  const sectionId = useSection();\n  const isWithinSection = Boolean(sectionId);\n  const handleOptionSelect = useCallback(event => {\n    event.preventDefault();\n    onAction && onAction();\n\n    if (listItemRef.current && !onAction) {\n      onOptionSelect({\n        domId,\n        value,\n        element: listItemRef.current,\n        disabled\n      });\n    }\n  }, [domId, onOptionSelect, value, disabled, onAction]); // prevents lost of focus on Textfield\n\n  const handleMouseDown = event => {\n    event.preventDefault();\n  };\n\n  const content = typeof children === 'string' ? /*#__PURE__*/React.createElement(TextOption, {\n    selected: selected,\n    disabled: disabled\n  }, children) : children;\n  const sectionAttributes = {\n    [listboxWithinSectionDataSelector.attribute]: isWithinSection\n  };\n  const legacyRoleSupport = role || 'option';\n  const contentMarkup = url ? /*#__PURE__*/React.createElement(UnstyledLink, {\n    url: url,\n    external: external\n  }, content) : content;\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({}, sectionAttributes, {\n    \"data-listbox-option\": true,\n    \"data-listbox-option-action\": isAction,\n    \"data-listbox-option-value\": value,\n    \"data-listbox-option-destructive\": destructive,\n    \"data-within-section\": isWithinSection,\n    className: classNames(styles.Option, divider && styles.divider),\n    id: domId,\n    ref: listItemRef,\n    tabIndex: -1,\n    role: legacyRoleSupport,\n    \"aria-label\": accessibilityLabel,\n    \"aria-selected\": selected,\n    \"aria-disabled\": disabled,\n    onClick: disabled ? undefined : handleOptionSelect,\n    onKeyDown: disabled ? undefined : handleOptionSelect,\n    onMouseDown: handleMouseDown\n  }), contentMarkup);\n});\n\nexport { Option };\n"]},"metadata":{},"sourceType":"module"}