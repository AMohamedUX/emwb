{"ast":null,"code":"import React, { Component } from 'react';\nimport 'focus-visible/dist/focus-visible';\nimport './AppProvider.scss.js';\nimport { DEFAULT_COLOR_SCHEME, CustomProperties } from '../CustomProperties/CustomProperties.js';\nimport { StickyManager } from '../../utilities/sticky-manager/sticky-manager.js';\nimport { ScrollLockManager } from '../../utilities/scroll-lock-manager/scroll-lock-manager.js';\nimport { UniqueIdFactory, globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\nimport { I18n } from '../../utilities/i18n/I18n.js';\nimport { FeaturesContext } from '../../utilities/features/context.js';\nimport { I18nContext } from '../../utilities/i18n/context.js';\nimport { ScrollLockManagerContext } from '../../utilities/scroll-lock-manager/context.js';\nimport { StickyManagerContext } from '../../utilities/sticky-manager/context.js';\nimport { UniqueIdFactoryContext } from '../../utilities/unique-id/context.js';\nimport { LinkContext } from '../../utilities/link/context.js';\nimport { MediaQueryProvider } from '../MediaQueryProvider/MediaQueryProvider.js';\nimport { PortalsManager } from '../PortalsManager/PortalsManager.js';\nimport { FocusManager } from '../FocusManager/FocusManager.js';\n\nclass AppProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.stickyManager = void 0;\n    this.scrollLockManager = void 0;\n    this.uniqueIdFactory = void 0;\n\n    this.setBodyStyles = () => {\n      // Inlining the following custom properties to maintain backward\n      // compatibility with the legacy ThemeProvider implementation.\n      document.body.setAttribute('p-color-scheme', this.props.colorScheme || DEFAULT_COLOR_SCHEME);\n      document.body.style.backgroundColor = 'var(--p-background)';\n      document.body.style.color = 'var(--p-text)';\n    };\n\n    this.stickyManager = new StickyManager();\n    this.scrollLockManager = new ScrollLockManager();\n    this.uniqueIdFactory = new UniqueIdFactory(globalIdGeneratorFactory);\n    const {\n      i18n,\n      linkComponent\n    } = this.props; // eslint-disable-next-line react/state-in-constructor\n\n    this.state = {\n      link: linkComponent,\n      intl: new I18n(i18n)\n    };\n  }\n\n  componentDidMount() {\n    if (document != null) {\n      this.stickyManager.setContainer(document);\n      this.setBodyStyles();\n    }\n  }\n\n  componentDidUpdate(_ref) {\n    let {\n      colorScheme: prevColorScheme,\n      i18n: prevI18n,\n      linkComponent: prevLinkComponent\n    } = _ref;\n    const {\n      colorScheme,\n      i18n,\n      linkComponent\n    } = this.props;\n\n    if (colorScheme !== prevColorScheme) {\n      this.setBodyStyles();\n    }\n\n    if (i18n === prevI18n && linkComponent === prevLinkComponent) {\n      return;\n    } // eslint-disable-next-line react/no-did-update-set-state\n\n\n    this.setState({\n      link: linkComponent,\n      intl: new I18n(i18n)\n    });\n  }\n\n  render() {\n    const {\n      children,\n      features = {},\n      colorScheme\n    } = this.props;\n    const {\n      intl,\n      link\n    } = this.state;\n    return /*#__PURE__*/React.createElement(FeaturesContext.Provider, {\n      value: features\n    }, /*#__PURE__*/React.createElement(I18nContext.Provider, {\n      value: intl\n    }, /*#__PURE__*/React.createElement(ScrollLockManagerContext.Provider, {\n      value: this.scrollLockManager\n    }, /*#__PURE__*/React.createElement(StickyManagerContext.Provider, {\n      value: this.stickyManager\n    }, /*#__PURE__*/React.createElement(UniqueIdFactoryContext.Provider, {\n      value: this.uniqueIdFactory\n    }, /*#__PURE__*/React.createElement(LinkContext.Provider, {\n      value: link\n    }, /*#__PURE__*/React.createElement(CustomProperties, {\n      colorScheme: colorScheme\n    }, /*#__PURE__*/React.createElement(MediaQueryProvider, null, /*#__PURE__*/React.createElement(PortalsManager, null, /*#__PURE__*/React.createElement(FocusManager, null, children))))))))));\n  }\n\n}\n\nexport { AppProvider };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/AppProvider/AppProvider.js"],"names":["React","Component","DEFAULT_COLOR_SCHEME","CustomProperties","StickyManager","ScrollLockManager","UniqueIdFactory","globalIdGeneratorFactory","I18n","FeaturesContext","I18nContext","ScrollLockManagerContext","StickyManagerContext","UniqueIdFactoryContext","LinkContext","MediaQueryProvider","PortalsManager","FocusManager","AppProvider","constructor","props","stickyManager","scrollLockManager","uniqueIdFactory","setBodyStyles","document","body","setAttribute","colorScheme","style","backgroundColor","color","i18n","linkComponent","state","link","intl","componentDidMount","setContainer","componentDidUpdate","prevColorScheme","prevI18n","prevLinkComponent","setState","render","children","features","createElement","Provider","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'focus-visible/dist/focus-visible';\nimport './AppProvider.scss.js';\nimport { DEFAULT_COLOR_SCHEME, CustomProperties } from '../CustomProperties/CustomProperties.js';\nimport { StickyManager } from '../../utilities/sticky-manager/sticky-manager.js';\nimport { ScrollLockManager } from '../../utilities/scroll-lock-manager/scroll-lock-manager.js';\nimport { UniqueIdFactory, globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\nimport { I18n } from '../../utilities/i18n/I18n.js';\nimport { FeaturesContext } from '../../utilities/features/context.js';\nimport { I18nContext } from '../../utilities/i18n/context.js';\nimport { ScrollLockManagerContext } from '../../utilities/scroll-lock-manager/context.js';\nimport { StickyManagerContext } from '../../utilities/sticky-manager/context.js';\nimport { UniqueIdFactoryContext } from '../../utilities/unique-id/context.js';\nimport { LinkContext } from '../../utilities/link/context.js';\nimport { MediaQueryProvider } from '../MediaQueryProvider/MediaQueryProvider.js';\nimport { PortalsManager } from '../PortalsManager/PortalsManager.js';\nimport { FocusManager } from '../FocusManager/FocusManager.js';\n\nclass AppProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.stickyManager = void 0;\n    this.scrollLockManager = void 0;\n    this.uniqueIdFactory = void 0;\n\n    this.setBodyStyles = () => {\n      // Inlining the following custom properties to maintain backward\n      // compatibility with the legacy ThemeProvider implementation.\n      document.body.setAttribute('p-color-scheme', this.props.colorScheme || DEFAULT_COLOR_SCHEME);\n      document.body.style.backgroundColor = 'var(--p-background)';\n      document.body.style.color = 'var(--p-text)';\n    };\n\n    this.stickyManager = new StickyManager();\n    this.scrollLockManager = new ScrollLockManager();\n    this.uniqueIdFactory = new UniqueIdFactory(globalIdGeneratorFactory);\n    const {\n      i18n,\n      linkComponent\n    } = this.props; // eslint-disable-next-line react/state-in-constructor\n\n    this.state = {\n      link: linkComponent,\n      intl: new I18n(i18n)\n    };\n  }\n\n  componentDidMount() {\n    if (document != null) {\n      this.stickyManager.setContainer(document);\n      this.setBodyStyles();\n    }\n  }\n\n  componentDidUpdate({\n    colorScheme: prevColorScheme,\n    i18n: prevI18n,\n    linkComponent: prevLinkComponent\n  }) {\n    const {\n      colorScheme,\n      i18n,\n      linkComponent\n    } = this.props;\n\n    if (colorScheme !== prevColorScheme) {\n      this.setBodyStyles();\n    }\n\n    if (i18n === prevI18n && linkComponent === prevLinkComponent) {\n      return;\n    } // eslint-disable-next-line react/no-did-update-set-state\n\n\n    this.setState({\n      link: linkComponent,\n      intl: new I18n(i18n)\n    });\n  }\n\n  render() {\n    const {\n      children,\n      features = {},\n      colorScheme\n    } = this.props;\n    const {\n      intl,\n      link\n    } = this.state;\n    return /*#__PURE__*/React.createElement(FeaturesContext.Provider, {\n      value: features\n    }, /*#__PURE__*/React.createElement(I18nContext.Provider, {\n      value: intl\n    }, /*#__PURE__*/React.createElement(ScrollLockManagerContext.Provider, {\n      value: this.scrollLockManager\n    }, /*#__PURE__*/React.createElement(StickyManagerContext.Provider, {\n      value: this.stickyManager\n    }, /*#__PURE__*/React.createElement(UniqueIdFactoryContext.Provider, {\n      value: this.uniqueIdFactory\n    }, /*#__PURE__*/React.createElement(LinkContext.Provider, {\n      value: link\n    }, /*#__PURE__*/React.createElement(CustomProperties, {\n      colorScheme: colorScheme\n    }, /*#__PURE__*/React.createElement(MediaQueryProvider, null, /*#__PURE__*/React.createElement(PortalsManager, null, /*#__PURE__*/React.createElement(FocusManager, null, children))))))))));\n  }\n\n}\n\nexport { AppProvider };\n"]},"metadata":{},"sourceType":"module"}