{"ast":null,"code":"import _objectSpread from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport React, { PureComponent, createRef } from 'react';\nimport { MobileCancelMajor } from '@shopify/polaris-icons';\nimport { CSSTransition } from 'react-transition-group';\nimport { classNames } from '../../utilities/css.js';\nimport { layer, dataPolarisTopBar } from '../shared.js';\nimport { setRootProperty } from '../../utilities/set-root-property.js';\nimport styles from './Frame.scss.js';\nimport { Loading } from './components/Loading/Loading.js';\nimport { CSSAnimation } from './components/CSSAnimation/CSSAnimation.js';\nimport { ContextualSaveBar } from './components/ContextualSaveBar/ContextualSaveBar.js';\nimport { FrameContext } from '../../utilities/frame/context.js';\nimport { ToastManager } from './components/ToastManager/ToastManager.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { TrapFocus } from '../TrapFocus/TrapFocus.js';\nimport { tokens } from '../../tokens/tokens.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\nimport { EventListener } from '../EventListener/EventListener.js';\nvar APP_FRAME_MAIN = 'AppFrameMain';\nvar APP_FRAME_NAV = 'AppFrameNav';\nvar APP_FRAME_TOP_BAR = 'AppFrameTopBar';\nvar APP_FRAME_LOADING_BAR = 'AppFrameLoadingBar';\n\nvar FrameInner = /*#__PURE__*/function (_PureComponent) {\n  _inherits(FrameInner, _PureComponent);\n\n  var _super = _createSuper(FrameInner);\n\n  function FrameInner() {\n    var _this;\n\n    _classCallCheck(this, FrameInner);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      skipFocused: false,\n      globalRibbonHeight: 0,\n      loadingStack: 0,\n      toastMessages: [],\n      showContextualSaveBar: false\n    };\n    _this.contextualSaveBar = null;\n    _this.globalRibbonContainer = null;\n    _this.navigationNode = /*#__PURE__*/createRef();\n\n    _this.setGlobalRibbonHeight = function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          globalRibbonContainer = _assertThisInitialize.globalRibbonContainer;\n\n      if (globalRibbonContainer) {\n        _this.setState({\n          globalRibbonHeight: globalRibbonContainer.offsetHeight\n        }, _this.setGlobalRibbonRootProperty);\n      }\n    };\n\n    _this.setOffset = function () {\n      var _this$props$offset = _this.props.offset,\n          offset = _this$props$offset === void 0 ? '0px' : _this$props$offset;\n      setRootProperty('--pc-frame-offset', offset);\n    };\n\n    _this.setGlobalRibbonRootProperty = function () {\n      var globalRibbonHeight = _this.state.globalRibbonHeight;\n      setRootProperty('--pc-frame-global-ribbon-height', \"\".concat(globalRibbonHeight, \"px\"));\n    };\n\n    _this.showToast = function (toast) {\n      _this.setState(function (_ref) {\n        var toastMessages = _ref.toastMessages;\n        var hasToastById = toastMessages.find(function (_ref2) {\n          var id = _ref2.id;\n          return id === toast.id;\n        }) != null;\n        return {\n          toastMessages: hasToastById ? toastMessages : [].concat(_toConsumableArray(toastMessages), [toast])\n        };\n      });\n    };\n\n    _this.hideToast = function (_ref3) {\n      var id = _ref3.id;\n\n      _this.setState(function (_ref4) {\n        var toastMessages = _ref4.toastMessages;\n        return {\n          toastMessages: toastMessages.filter(function (_ref5) {\n            var toastId = _ref5.id;\n            return id !== toastId;\n          })\n        };\n      });\n    };\n\n    _this.setContextualSaveBar = function (props) {\n      var showContextualSaveBar = _this.state.showContextualSaveBar;\n      _this.contextualSaveBar = _objectSpread({}, props);\n\n      if (showContextualSaveBar === true) {\n        _this.forceUpdate();\n      } else {\n        _this.setState({\n          showContextualSaveBar: true\n        });\n      }\n    };\n\n    _this.removeContextualSaveBar = function () {\n      _this.contextualSaveBar = null;\n\n      _this.setState({\n        showContextualSaveBar: false\n      });\n    };\n\n    _this.startLoading = function () {\n      _this.setState(function (_ref6) {\n        var loadingStack = _ref6.loadingStack;\n        return {\n          loadingStack: loadingStack + 1\n        };\n      });\n    };\n\n    _this.stopLoading = function () {\n      _this.setState(function (_ref7) {\n        var loadingStack = _ref7.loadingStack;\n        return {\n          loadingStack: Math.max(0, loadingStack - 1)\n        };\n      });\n    };\n\n    _this.handleResize = function () {\n      if (_this.props.globalRibbon) {\n        _this.setGlobalRibbonHeight();\n      }\n    };\n\n    _this.handleFocus = function () {\n      _this.setState({\n        skipFocused: true\n      });\n    };\n\n    _this.handleBlur = function () {\n      _this.setState({\n        skipFocused: false\n      });\n    };\n\n    _this.handleClick = function (event) {\n      var skipToContentTarget = _this.props.skipToContentTarget;\n\n      if (skipToContentTarget && skipToContentTarget.current) {\n        skipToContentTarget.current.focus();\n        event === null || event === void 0 ? void 0 : event.preventDefault();\n      }\n    };\n\n    _this.handleNavigationDismiss = function () {\n      var onNavigationDismiss = _this.props.onNavigationDismiss;\n\n      if (onNavigationDismiss != null) {\n        onNavigationDismiss();\n      }\n    };\n\n    _this.setGlobalRibbonContainer = function (node) {\n      _this.globalRibbonContainer = node;\n    };\n\n    _this.handleNavKeydown = function (event) {\n      var key = event.key;\n      var _this$props = _this.props,\n          isNavigationCollapsed = _this$props.mediaQuery.isNavigationCollapsed,\n          showMobileNavigation = _this$props.showMobileNavigation;\n      var mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n\n      if (mobileNavShowing && key === 'Escape') {\n        _this.handleNavigationDismiss();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(FrameInner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleResize();\n\n      if (this.props.globalRibbon) {\n        return;\n      }\n\n      this.setGlobalRibbonRootProperty();\n      this.setOffset();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.globalRibbon !== prevProps.globalRibbon) {\n        this.setGlobalRibbonHeight();\n      }\n\n      this.setOffset();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          skipFocused = _this$state.skipFocused,\n          loadingStack = _this$state.loadingStack,\n          toastMessages = _this$state.toastMessages,\n          showContextualSaveBar = _this$state.showContextualSaveBar;\n      var _this$props2 = this.props,\n          logo = _this$props2.logo,\n          children = _this$props2.children,\n          navigation = _this$props2.navigation,\n          topBar = _this$props2.topBar,\n          globalRibbon = _this$props2.globalRibbon,\n          _this$props2$showMobi = _this$props2.showMobileNavigation,\n          showMobileNavigation = _this$props2$showMobi === void 0 ? false : _this$props2$showMobi,\n          skipToContentTarget = _this$props2.skipToContentTarget,\n          i18n = _this$props2.i18n,\n          isNavigationCollapsed = _this$props2.mediaQuery.isNavigationCollapsed;\n      var navClassName = classNames(styles.Navigation, showMobileNavigation && styles['Navigation-visible']);\n      var mobileNavHidden = isNavigationCollapsed && !showMobileNavigation;\n      var mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n      var tabIndex = mobileNavShowing ? 0 : -1;\n\n      var mobileNavAttributes = _objectSpread({}, mobileNavShowing && {\n        'aria-modal': true,\n        role: 'dialog'\n      });\n\n      var navigationMarkup = navigation ? /*#__PURE__*/React.createElement(TrapFocus, {\n        trapping: mobileNavShowing\n      }, /*#__PURE__*/React.createElement(CSSTransition, {\n        nodeRef: this.navigationNode,\n        appear: isNavigationCollapsed,\n        exit: isNavigationCollapsed,\n        in: showMobileNavigation,\n        timeout: parseInt(tokens.motion['duration-300'], 10),\n        classNames: navTransitionClasses\n      }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n        key: \"NavContent\"\n      }, mobileNavAttributes, {\n        \"aria-label\": i18n.translate('Polaris.Frame.navigationLabel'),\n        ref: this.navigationNode,\n        className: navClassName,\n        onKeyDown: this.handleNavKeydown,\n        id: APP_FRAME_NAV,\n        hidden: mobileNavHidden\n      }), navigation, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: styles.NavigationDismiss,\n        onClick: this.handleNavigationDismiss,\n        \"aria-hidden\": mobileNavHidden || !isNavigationCollapsed && !showMobileNavigation,\n        \"aria-label\": i18n.translate('Polaris.Frame.Navigation.closeMobileNavigationLabel'),\n        tabIndex: tabIndex\n      }, /*#__PURE__*/React.createElement(Icon, {\n        source: MobileCancelMajor\n      }))))) : null;\n      var loadingMarkup = loadingStack > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.LoadingBar,\n        id: APP_FRAME_LOADING_BAR\n      }, /*#__PURE__*/React.createElement(Loading, null)) : null;\n      var contextualSaveBarMarkup = /*#__PURE__*/React.createElement(CSSAnimation, {\n        in: showContextualSaveBar,\n        className: styles.ContextualSaveBar,\n        type: \"fade\"\n      }, /*#__PURE__*/React.createElement(ContextualSaveBar, this.contextualSaveBar));\n      var topBarMarkup = topBar ? /*#__PURE__*/React.createElement(\"div\", Object.assign({\n        className: styles.TopBar\n      }, layer.props, dataPolarisTopBar.props, {\n        id: APP_FRAME_TOP_BAR\n      }), topBar) : null;\n      var globalRibbonMarkup = globalRibbon ? /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.GlobalRibbonContainer,\n        ref: this.setGlobalRibbonContainer\n      }, globalRibbon) : null;\n      var skipClassName = classNames(styles.Skip, skipFocused && styles.focused);\n      var skipTarget = skipToContentTarget !== null && skipToContentTarget !== void 0 && skipToContentTarget.current ? skipToContentTarget.current.id : APP_FRAME_MAIN;\n      var skipMarkup = /*#__PURE__*/React.createElement(\"div\", {\n        className: skipClassName\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\".concat(skipTarget),\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onClick: this.handleClick\n      }, i18n.translate('Polaris.Frame.skipToContent')));\n      var navigationAttributes = navigation ? {\n        'data-has-navigation': true\n      } : {};\n      var frameClassName = classNames(styles.Frame, navigation && styles.hasNav, topBar && styles.hasTopBar);\n      var navigationOverlayMarkup = showMobileNavigation && isNavigationCollapsed ? /*#__PURE__*/React.createElement(Backdrop, {\n        belowNavigation: true,\n        onClick: this.handleNavigationDismiss,\n        onTouchStart: this.handleNavigationDismiss\n      }) : null; // This is probably a legit error but I don't have the time to refactor this\n      // eslint-disable-next-line react/jsx-no-constructed-context-values\n\n      var context = {\n        logo: logo,\n        showToast: this.showToast,\n        hideToast: this.hideToast,\n        startLoading: this.startLoading,\n        stopLoading: this.stopLoading,\n        setContextualSaveBar: this.setContextualSaveBar,\n        removeContextualSaveBar: this.removeContextualSaveBar\n      };\n      return /*#__PURE__*/React.createElement(FrameContext.Provider, {\n        value: context\n      }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n        className: frameClassName\n      }, layer.props, navigationAttributes), skipMarkup, topBarMarkup, navigationMarkup, contextualSaveBarMarkup, loadingMarkup, navigationOverlayMarkup, /*#__PURE__*/React.createElement(\"main\", {\n        className: styles.Main,\n        id: APP_FRAME_MAIN,\n        \"data-has-global-ribbon\": Boolean(globalRibbon)\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.Content\n      }, children)), /*#__PURE__*/React.createElement(ToastManager, {\n        toastMessages: toastMessages\n      }), globalRibbonMarkup, /*#__PURE__*/React.createElement(EventListener, {\n        event: \"resize\",\n        handler: this.handleResize\n      })));\n    }\n  }]);\n\n  return FrameInner;\n}(PureComponent);\n\nvar navTransitionClasses = {\n  enter: classNames(styles['Navigation-enter']),\n  enterActive: classNames(styles['Navigation-enterActive']),\n  enterDone: classNames(styles['Navigation-enterActive']),\n  exit: classNames(styles['Navigation-exit']),\n  exitActive: classNames(styles['Navigation-exitActive'])\n};\n\nfunction Frame(props) {\n  var i18n = useI18n();\n  var mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React.createElement(FrameInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Frame };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/Frame/Frame.js"],"names":["React","PureComponent","createRef","MobileCancelMajor","CSSTransition","classNames","layer","dataPolarisTopBar","setRootProperty","styles","Loading","CSSAnimation","ContextualSaveBar","FrameContext","ToastManager","useI18n","useMediaQuery","TrapFocus","tokens","Icon","Backdrop","EventListener","APP_FRAME_MAIN","APP_FRAME_NAV","APP_FRAME_TOP_BAR","APP_FRAME_LOADING_BAR","FrameInner","args","state","skipFocused","globalRibbonHeight","loadingStack","toastMessages","showContextualSaveBar","contextualSaveBar","globalRibbonContainer","navigationNode","setGlobalRibbonHeight","setState","offsetHeight","setGlobalRibbonRootProperty","setOffset","props","offset","showToast","toast","hasToastById","find","id","hideToast","filter","toastId","setContextualSaveBar","forceUpdate","removeContextualSaveBar","startLoading","stopLoading","Math","max","handleResize","globalRibbon","handleFocus","handleBlur","handleClick","event","skipToContentTarget","current","focus","preventDefault","handleNavigationDismiss","onNavigationDismiss","setGlobalRibbonContainer","node","handleNavKeydown","key","isNavigationCollapsed","mediaQuery","showMobileNavigation","mobileNavShowing","prevProps","logo","children","navigation","topBar","i18n","navClassName","Navigation","mobileNavHidden","tabIndex","mobileNavAttributes","role","navigationMarkup","createElement","trapping","nodeRef","appear","exit","in","timeout","parseInt","motion","navTransitionClasses","Object","assign","translate","ref","className","onKeyDown","hidden","type","NavigationDismiss","onClick","source","loadingMarkup","LoadingBar","contextualSaveBarMarkup","topBarMarkup","TopBar","globalRibbonMarkup","GlobalRibbonContainer","skipClassName","Skip","focused","skipTarget","skipMarkup","href","onFocus","onBlur","navigationAttributes","frameClassName","Frame","hasNav","hasTopBar","navigationOverlayMarkup","belowNavigation","onTouchStart","context","Provider","value","Main","Boolean","Content","handler","enter","enterActive","enterDone","exitActive"],"mappings":"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","sourcesContent":["import React, { PureComponent, createRef } from 'react';\nimport { MobileCancelMajor } from '@shopify/polaris-icons';\nimport { CSSTransition } from 'react-transition-group';\nimport { classNames } from '../../utilities/css.js';\nimport { layer, dataPolarisTopBar } from '../shared.js';\nimport { setRootProperty } from '../../utilities/set-root-property.js';\nimport styles from './Frame.scss.js';\nimport { Loading } from './components/Loading/Loading.js';\nimport { CSSAnimation } from './components/CSSAnimation/CSSAnimation.js';\nimport { ContextualSaveBar } from './components/ContextualSaveBar/ContextualSaveBar.js';\nimport { FrameContext } from '../../utilities/frame/context.js';\nimport { ToastManager } from './components/ToastManager/ToastManager.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { TrapFocus } from '../TrapFocus/TrapFocus.js';\nimport { tokens } from '../../tokens/tokens.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\nimport { EventListener } from '../EventListener/EventListener.js';\n\nconst APP_FRAME_MAIN = 'AppFrameMain';\nconst APP_FRAME_NAV = 'AppFrameNav';\nconst APP_FRAME_TOP_BAR = 'AppFrameTopBar';\nconst APP_FRAME_LOADING_BAR = 'AppFrameLoadingBar';\n\nclass FrameInner extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      skipFocused: false,\n      globalRibbonHeight: 0,\n      loadingStack: 0,\n      toastMessages: [],\n      showContextualSaveBar: false\n    };\n    this.contextualSaveBar = null;\n    this.globalRibbonContainer = null;\n    this.navigationNode = /*#__PURE__*/createRef();\n\n    this.setGlobalRibbonHeight = () => {\n      const {\n        globalRibbonContainer\n      } = this;\n\n      if (globalRibbonContainer) {\n        this.setState({\n          globalRibbonHeight: globalRibbonContainer.offsetHeight\n        }, this.setGlobalRibbonRootProperty);\n      }\n    };\n\n    this.setOffset = () => {\n      const {\n        offset = '0px'\n      } = this.props;\n      setRootProperty('--pc-frame-offset', offset);\n    };\n\n    this.setGlobalRibbonRootProperty = () => {\n      const {\n        globalRibbonHeight\n      } = this.state;\n      setRootProperty('--pc-frame-global-ribbon-height', `${globalRibbonHeight}px`);\n    };\n\n    this.showToast = toast => {\n      this.setState(({\n        toastMessages\n      }) => {\n        const hasToastById = toastMessages.find(({\n          id\n        }) => id === toast.id) != null;\n        return {\n          toastMessages: hasToastById ? toastMessages : [...toastMessages, toast]\n        };\n      });\n    };\n\n    this.hideToast = ({\n      id\n    }) => {\n      this.setState(({\n        toastMessages\n      }) => {\n        return {\n          toastMessages: toastMessages.filter(({\n            id: toastId\n          }) => id !== toastId)\n        };\n      });\n    };\n\n    this.setContextualSaveBar = props => {\n      const {\n        showContextualSaveBar\n      } = this.state;\n      this.contextualSaveBar = { ...props\n      };\n\n      if (showContextualSaveBar === true) {\n        this.forceUpdate();\n      } else {\n        this.setState({\n          showContextualSaveBar: true\n        });\n      }\n    };\n\n    this.removeContextualSaveBar = () => {\n      this.contextualSaveBar = null;\n      this.setState({\n        showContextualSaveBar: false\n      });\n    };\n\n    this.startLoading = () => {\n      this.setState(({\n        loadingStack\n      }) => ({\n        loadingStack: loadingStack + 1\n      }));\n    };\n\n    this.stopLoading = () => {\n      this.setState(({\n        loadingStack\n      }) => ({\n        loadingStack: Math.max(0, loadingStack - 1)\n      }));\n    };\n\n    this.handleResize = () => {\n      if (this.props.globalRibbon) {\n        this.setGlobalRibbonHeight();\n      }\n    };\n\n    this.handleFocus = () => {\n      this.setState({\n        skipFocused: true\n      });\n    };\n\n    this.handleBlur = () => {\n      this.setState({\n        skipFocused: false\n      });\n    };\n\n    this.handleClick = event => {\n      const {\n        skipToContentTarget\n      } = this.props;\n\n      if (skipToContentTarget && skipToContentTarget.current) {\n        skipToContentTarget.current.focus();\n        event === null || event === void 0 ? void 0 : event.preventDefault();\n      }\n    };\n\n    this.handleNavigationDismiss = () => {\n      const {\n        onNavigationDismiss\n      } = this.props;\n\n      if (onNavigationDismiss != null) {\n        onNavigationDismiss();\n      }\n    };\n\n    this.setGlobalRibbonContainer = node => {\n      this.globalRibbonContainer = node;\n    };\n\n    this.handleNavKeydown = event => {\n      const {\n        key\n      } = event;\n      const {\n        mediaQuery: {\n          isNavigationCollapsed\n        },\n        showMobileNavigation\n      } = this.props;\n      const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n\n      if (mobileNavShowing && key === 'Escape') {\n        this.handleNavigationDismiss();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.handleResize();\n\n    if (this.props.globalRibbon) {\n      return;\n    }\n\n    this.setGlobalRibbonRootProperty();\n    this.setOffset();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.globalRibbon !== prevProps.globalRibbon) {\n      this.setGlobalRibbonHeight();\n    }\n\n    this.setOffset();\n  }\n\n  render() {\n    const {\n      skipFocused,\n      loadingStack,\n      toastMessages,\n      showContextualSaveBar\n    } = this.state;\n    const {\n      logo,\n      children,\n      navigation,\n      topBar,\n      globalRibbon,\n      showMobileNavigation = false,\n      skipToContentTarget,\n      i18n,\n      mediaQuery: {\n        isNavigationCollapsed\n      }\n    } = this.props;\n    const navClassName = classNames(styles.Navigation, showMobileNavigation && styles['Navigation-visible']);\n    const mobileNavHidden = isNavigationCollapsed && !showMobileNavigation;\n    const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n    const tabIndex = mobileNavShowing ? 0 : -1;\n    const mobileNavAttributes = { ...(mobileNavShowing && {\n        'aria-modal': true,\n        role: 'dialog'\n      })\n    };\n    const navigationMarkup = navigation ? /*#__PURE__*/React.createElement(TrapFocus, {\n      trapping: mobileNavShowing\n    }, /*#__PURE__*/React.createElement(CSSTransition, {\n      nodeRef: this.navigationNode,\n      appear: isNavigationCollapsed,\n      exit: isNavigationCollapsed,\n      in: showMobileNavigation,\n      timeout: parseInt(tokens.motion['duration-300'], 10),\n      classNames: navTransitionClasses\n    }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      key: \"NavContent\"\n    }, mobileNavAttributes, {\n      \"aria-label\": i18n.translate('Polaris.Frame.navigationLabel'),\n      ref: this.navigationNode,\n      className: navClassName,\n      onKeyDown: this.handleNavKeydown,\n      id: APP_FRAME_NAV,\n      hidden: mobileNavHidden\n    }), navigation, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: styles.NavigationDismiss,\n      onClick: this.handleNavigationDismiss,\n      \"aria-hidden\": mobileNavHidden || !isNavigationCollapsed && !showMobileNavigation,\n      \"aria-label\": i18n.translate('Polaris.Frame.Navigation.closeMobileNavigationLabel'),\n      tabIndex: tabIndex\n    }, /*#__PURE__*/React.createElement(Icon, {\n      source: MobileCancelMajor\n    }))))) : null;\n    const loadingMarkup = loadingStack > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.LoadingBar,\n      id: APP_FRAME_LOADING_BAR\n    }, /*#__PURE__*/React.createElement(Loading, null)) : null;\n    const contextualSaveBarMarkup = /*#__PURE__*/React.createElement(CSSAnimation, {\n      in: showContextualSaveBar,\n      className: styles.ContextualSaveBar,\n      type: \"fade\"\n    }, /*#__PURE__*/React.createElement(ContextualSaveBar, this.contextualSaveBar));\n    const topBarMarkup = topBar ? /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      className: styles.TopBar\n    }, layer.props, dataPolarisTopBar.props, {\n      id: APP_FRAME_TOP_BAR\n    }), topBar) : null;\n    const globalRibbonMarkup = globalRibbon ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.GlobalRibbonContainer,\n      ref: this.setGlobalRibbonContainer\n    }, globalRibbon) : null;\n    const skipClassName = classNames(styles.Skip, skipFocused && styles.focused);\n    const skipTarget = skipToContentTarget !== null && skipToContentTarget !== void 0 && skipToContentTarget.current ? skipToContentTarget.current.id : APP_FRAME_MAIN;\n    const skipMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: skipClassName\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: `#${skipTarget}`,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick\n    }, i18n.translate('Polaris.Frame.skipToContent')));\n    const navigationAttributes = navigation ? {\n      'data-has-navigation': true\n    } : {};\n    const frameClassName = classNames(styles.Frame, navigation && styles.hasNav, topBar && styles.hasTopBar);\n    const navigationOverlayMarkup = showMobileNavigation && isNavigationCollapsed ? /*#__PURE__*/React.createElement(Backdrop, {\n      belowNavigation: true,\n      onClick: this.handleNavigationDismiss,\n      onTouchStart: this.handleNavigationDismiss\n    }) : null; // This is probably a legit error but I don't have the time to refactor this\n    // eslint-disable-next-line react/jsx-no-constructed-context-values\n\n    const context = {\n      logo,\n      showToast: this.showToast,\n      hideToast: this.hideToast,\n      startLoading: this.startLoading,\n      stopLoading: this.stopLoading,\n      setContextualSaveBar: this.setContextualSaveBar,\n      removeContextualSaveBar: this.removeContextualSaveBar\n    };\n    return /*#__PURE__*/React.createElement(FrameContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      className: frameClassName\n    }, layer.props, navigationAttributes), skipMarkup, topBarMarkup, navigationMarkup, contextualSaveBarMarkup, loadingMarkup, navigationOverlayMarkup, /*#__PURE__*/React.createElement(\"main\", {\n      className: styles.Main,\n      id: APP_FRAME_MAIN,\n      \"data-has-global-ribbon\": Boolean(globalRibbon)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Content\n    }, children)), /*#__PURE__*/React.createElement(ToastManager, {\n      toastMessages: toastMessages\n    }), globalRibbonMarkup, /*#__PURE__*/React.createElement(EventListener, {\n      event: \"resize\",\n      handler: this.handleResize\n    })));\n  }\n\n}\n\nconst navTransitionClasses = {\n  enter: classNames(styles['Navigation-enter']),\n  enterActive: classNames(styles['Navigation-enterActive']),\n  enterDone: classNames(styles['Navigation-enterActive']),\n  exit: classNames(styles['Navigation-exit']),\n  exitActive: classNames(styles['Navigation-exitActive'])\n};\nfunction Frame(props) {\n  const i18n = useI18n();\n  const mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React.createElement(FrameInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Frame };\n"]},"metadata":{},"sourceType":"module"}