{"ast":null,"code":"import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { CircleCancelMinor, SearchMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../../../utilities/css.js';\nimport styles from './SearchField.scss.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { VisuallyHidden } from '../../../VisuallyHidden/VisuallyHidden.js';\n\nfunction SearchField(_ref) {\n  let {\n    value,\n    focused,\n    active,\n    placeholder,\n    onChange,\n    onFocus,\n    onBlur,\n    onCancel,\n    showFocusBorder\n  } = _ref;\n  const i18n = useI18n();\n  const [forceActive, setForceActive] = useState(false);\n  const input = useRef(null);\n  const searchId = useUniqueId('SearchField');\n  const handleChange = useCallback(_ref2 => {\n    let {\n      currentTarget\n    } = _ref2;\n    onChange(currentTarget.value);\n  }, [onChange]);\n  const handleFocus = useCallback(() => onFocus && onFocus(), [onFocus]);\n  const handleBlur = useCallback(() => onBlur && onBlur(), [onBlur]);\n  const handleClear = useCallback(() => {\n    onCancel && onCancel();\n\n    if (!input.current) {\n      return;\n    }\n\n    input.current.value = '';\n    onChange('');\n    input.current.focus();\n  }, [onCancel, onChange]);\n  useEffect(() => {\n    if (!input.current) {\n      return;\n    }\n\n    if (focused) {\n      input.current.focus();\n    } else {\n      input.current.blur();\n    }\n  }, [focused]);\n  const clearMarkup = value !== '' && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"aria-label\": i18n.translate('Polaris.TopBar.SearchField.clearButtonLabel'),\n    className: styles.Clear,\n    onClick: handleClear,\n    onBlur: () => {\n      setForceActive(false);\n      handleClear();\n    },\n    onFocus: () => {\n      handleFocus();\n      setForceActive(true);\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: CircleCancelMinor\n  }));\n  const className = classNames(styles.SearchField, (focused || active || forceActive) && styles.focused);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React.createElement(VisuallyHidden, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: searchId\n  }, i18n.translate('Polaris.TopBar.SearchField.search'))), /*#__PURE__*/React.createElement(\"input\", {\n    id: searchId,\n    className: styles.Input,\n    placeholder: placeholder,\n    type: \"search\",\n    autoCapitalize: \"off\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    ref: input,\n    value: value,\n    onChange: handleChange,\n    onKeyDown: preventDefault\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: SearchMinor\n  })), clearMarkup, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(styles.Backdrop, showFocusBorder && styles.BackdropShowFocusBorder)\n  }));\n}\n\nfunction preventDefault(event) {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n  }\n}\n\nexport { SearchField };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/TopBar/components/SearchField/SearchField.js"],"names":["React","useState","useRef","useCallback","useEffect","CircleCancelMinor","SearchMinor","classNames","styles","useI18n","useUniqueId","Icon","VisuallyHidden","SearchField","value","focused","active","placeholder","onChange","onFocus","onBlur","onCancel","showFocusBorder","i18n","forceActive","setForceActive","input","searchId","handleChange","currentTarget","handleFocus","handleBlur","handleClear","current","focus","blur","clearMarkup","createElement","type","translate","className","Clear","onClick","source","htmlFor","id","Input","autoCapitalize","autoComplete","autoCorrect","ref","onKeyDown","preventDefault","Backdrop","BackdropShowFocusBorder","event","key"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { CircleCancelMinor, SearchMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../../../utilities/css.js';\nimport styles from './SearchField.scss.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { VisuallyHidden } from '../../../VisuallyHidden/VisuallyHidden.js';\n\nfunction SearchField({\n  value,\n  focused,\n  active,\n  placeholder,\n  onChange,\n  onFocus,\n  onBlur,\n  onCancel,\n  showFocusBorder\n}) {\n  const i18n = useI18n();\n  const [forceActive, setForceActive] = useState(false);\n  const input = useRef(null);\n  const searchId = useUniqueId('SearchField');\n  const handleChange = useCallback(({\n    currentTarget\n  }) => {\n    onChange(currentTarget.value);\n  }, [onChange]);\n  const handleFocus = useCallback(() => onFocus && onFocus(), [onFocus]);\n  const handleBlur = useCallback(() => onBlur && onBlur(), [onBlur]);\n  const handleClear = useCallback(() => {\n    onCancel && onCancel();\n\n    if (!input.current) {\n      return;\n    }\n\n    input.current.value = '';\n    onChange('');\n    input.current.focus();\n  }, [onCancel, onChange]);\n  useEffect(() => {\n    if (!input.current) {\n      return;\n    }\n\n    if (focused) {\n      input.current.focus();\n    } else {\n      input.current.blur();\n    }\n  }, [focused]);\n  const clearMarkup = value !== '' && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"aria-label\": i18n.translate('Polaris.TopBar.SearchField.clearButtonLabel'),\n    className: styles.Clear,\n    onClick: handleClear,\n    onBlur: () => {\n      setForceActive(false);\n      handleClear();\n    },\n    onFocus: () => {\n      handleFocus();\n      setForceActive(true);\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: CircleCancelMinor\n  }));\n  const className = classNames(styles.SearchField, (focused || active || forceActive) && styles.focused);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React.createElement(VisuallyHidden, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: searchId\n  }, i18n.translate('Polaris.TopBar.SearchField.search'))), /*#__PURE__*/React.createElement(\"input\", {\n    id: searchId,\n    className: styles.Input,\n    placeholder: placeholder,\n    type: \"search\",\n    autoCapitalize: \"off\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    ref: input,\n    value: value,\n    onChange: handleChange,\n    onKeyDown: preventDefault\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: SearchMinor\n  })), clearMarkup, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(styles.Backdrop, showFocusBorder && styles.BackdropShowFocusBorder)\n  }));\n}\n\nfunction preventDefault(event) {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n  }\n}\n\nexport { SearchField };\n"]},"metadata":{},"sourceType":"module"}