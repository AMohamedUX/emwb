{"ast":null,"code":"import React, { useRef, useCallback, useEffect } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { focusFirstFocusableNode } from '../../utilities/focus.js';\nimport { classNames } from '../../utilities/css.js';\nimport { Key } from '../../types.js';\nimport { layer, overlay } from '../shared.js';\nimport styles from './Sheet.scss.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { TrapFocus } from '../TrapFocus/TrapFocus.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\nimport { Portal } from '../Portal/Portal.js';\nimport { tokens } from '../../tokens/tokens.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\nconst BOTTOM_CLASS_NAMES = {\n  enter: classNames(styles.Bottom, styles.enterBottom),\n  enterActive: classNames(styles.Bottom, styles.enterBottomActive),\n  exit: classNames(styles.Bottom, styles.exitBottom),\n  exitActive: classNames(styles.Bottom, styles.exitBottomActive)\n};\nconst RIGHT_CLASS_NAMES = {\n  enter: classNames(styles.Right, styles.enterRight),\n  enterActive: classNames(styles.Right, styles.enterRightActive),\n  exit: classNames(styles.Right, styles.exitRight),\n  exitActive: classNames(styles.Right, styles.exitRightActive)\n};\n/** @deprecated Use <Modal /> instead or avoid modal patterns all together. */\n\nfunction Sheet(_ref) {\n  let {\n    children,\n    open,\n    onClose,\n    onEntered,\n    onExit,\n    accessibilityLabel,\n    activator\n  } = _ref;\n  const {\n    isNavigationCollapsed\n  } = useMediaQuery();\n  const container = useRef(null);\n  const activatorRef = useRef(null);\n  const handleClose = useCallback(() => {\n    onClose();\n    const activatorElement = activator && isRef(activator) ? activator && activator.current : activatorRef.current;\n\n    if (activatorElement) {\n      requestAnimationFrame(() => focusFirstFocusableNode(activatorElement));\n    }\n  }, [activator, onClose]);\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      // eslint-disable-next-line no-console\n      console.warn('Deprecation: <Sheet /> is deprecated. This component might be removed in a future major version of Polaris. Use <Modal /> instead or avoid modal patterns all together.');\n    }\n  }, []);\n  const activatorMarkup = activator && !isRef(activator) ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: activatorRef\n  }, activator) : null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, activatorMarkup, /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"sheet\"\n  }, /*#__PURE__*/React.createElement(CSSTransition, {\n    nodeRef: container,\n    classNames: isNavigationCollapsed ? BOTTOM_CLASS_NAMES : RIGHT_CLASS_NAMES,\n    timeout: parseInt(tokens.motion['duration-300'], 10),\n    in: open,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    onEntered: onEntered,\n    onExit: onExit\n  }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: styles.Container\n  }, layer.props, overlay.props, {\n    ref: container\n  }), /*#__PURE__*/React.createElement(TrapFocus, {\n    trapping: open\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    role: \"dialog\",\n    \"aria-modal\": true,\n    tabIndex: -1,\n    className: styles.Sheet,\n    \"aria-label\": accessibilityLabel\n  }, children)))), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    handler: handleClose\n  }), open && /*#__PURE__*/React.createElement(Backdrop, {\n    transparent: true,\n    onClick: handleClose\n  })));\n}\n\nfunction isRef(ref) {\n  return Object.prototype.hasOwnProperty.call(ref, 'current');\n}\n\nexport { Sheet };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/Sheet/Sheet.js"],"names":["React","useRef","useCallback","useEffect","CSSTransition","focusFirstFocusableNode","classNames","Key","layer","overlay","styles","useMediaQuery","TrapFocus","Backdrop","Portal","tokens","KeypressListener","BOTTOM_CLASS_NAMES","enter","Bottom","enterBottom","enterActive","enterBottomActive","exit","exitBottom","exitActive","exitBottomActive","RIGHT_CLASS_NAMES","Right","enterRight","enterRightActive","exitRight","exitRightActive","Sheet","children","open","onClose","onEntered","onExit","accessibilityLabel","activator","isNavigationCollapsed","container","activatorRef","handleClose","activatorElement","isRef","current","requestAnimationFrame","process","env","NODE_ENV","console","warn","activatorMarkup","createElement","ref","Fragment","idPrefix","nodeRef","timeout","parseInt","motion","in","mountOnEnter","unmountOnExit","Object","assign","className","Container","props","trapping","role","tabIndex","keyCode","Escape","handler","transparent","onClick","prototype","hasOwnProperty","call"],"mappings":"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","sourcesContent":["import React, { useRef, useCallback, useEffect } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { focusFirstFocusableNode } from '../../utilities/focus.js';\nimport { classNames } from '../../utilities/css.js';\nimport { Key } from '../../types.js';\nimport { layer, overlay } from '../shared.js';\nimport styles from './Sheet.scss.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { TrapFocus } from '../TrapFocus/TrapFocus.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\nimport { Portal } from '../Portal/Portal.js';\nimport { tokens } from '../../tokens/tokens.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\n\nconst BOTTOM_CLASS_NAMES = {\n  enter: classNames(styles.Bottom, styles.enterBottom),\n  enterActive: classNames(styles.Bottom, styles.enterBottomActive),\n  exit: classNames(styles.Bottom, styles.exitBottom),\n  exitActive: classNames(styles.Bottom, styles.exitBottomActive)\n};\nconst RIGHT_CLASS_NAMES = {\n  enter: classNames(styles.Right, styles.enterRight),\n  enterActive: classNames(styles.Right, styles.enterRightActive),\n  exit: classNames(styles.Right, styles.exitRight),\n  exitActive: classNames(styles.Right, styles.exitRightActive)\n};\n\n/** @deprecated Use <Modal /> instead or avoid modal patterns all together. */\nfunction Sheet({\n  children,\n  open,\n  onClose,\n  onEntered,\n  onExit,\n  accessibilityLabel,\n  activator\n}) {\n  const {\n    isNavigationCollapsed\n  } = useMediaQuery();\n  const container = useRef(null);\n  const activatorRef = useRef(null);\n  const handleClose = useCallback(() => {\n    onClose();\n    const activatorElement = activator && isRef(activator) ? activator && activator.current : activatorRef.current;\n\n    if (activatorElement) {\n      requestAnimationFrame(() => focusFirstFocusableNode(activatorElement));\n    }\n  }, [activator, onClose]);\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      // eslint-disable-next-line no-console\n      console.warn('Deprecation: <Sheet /> is deprecated. This component might be removed in a future major version of Polaris. Use <Modal /> instead or avoid modal patterns all together.');\n    }\n  }, []);\n  const activatorMarkup = activator && !isRef(activator) ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: activatorRef\n  }, activator) : null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, activatorMarkup, /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"sheet\"\n  }, /*#__PURE__*/React.createElement(CSSTransition, {\n    nodeRef: container,\n    classNames: isNavigationCollapsed ? BOTTOM_CLASS_NAMES : RIGHT_CLASS_NAMES,\n    timeout: parseInt(tokens.motion['duration-300'], 10),\n    in: open,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    onEntered: onEntered,\n    onExit: onExit\n  }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: styles.Container\n  }, layer.props, overlay.props, {\n    ref: container\n  }), /*#__PURE__*/React.createElement(TrapFocus, {\n    trapping: open\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    role: \"dialog\",\n    \"aria-modal\": true,\n    tabIndex: -1,\n    className: styles.Sheet,\n    \"aria-label\": accessibilityLabel\n  }, children)))), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    handler: handleClose\n  }), open && /*#__PURE__*/React.createElement(Backdrop, {\n    transparent: true,\n    onClick: handleClose\n  })));\n}\n\nfunction isRef(ref) {\n  return Object.prototype.hasOwnProperty.call(ref, 'current');\n}\n\nexport { Sheet };\n"]},"metadata":{},"sourceType":"module"}