{"ast":null,"code":"import React, { PureComponent, createRef } from 'react';\nimport { MobileCancelMajor } from '@shopify/polaris-icons';\nimport { CSSTransition } from 'react-transition-group';\nimport { classNames } from '../../utilities/css.js';\nimport { layer, dataPolarisTopBar } from '../shared.js';\nimport { setRootProperty } from '../../utilities/set-root-property.js';\nimport styles from './Frame.scss.js';\nimport { Loading } from './components/Loading/Loading.js';\nimport { CSSAnimation } from './components/CSSAnimation/CSSAnimation.js';\nimport { ContextualSaveBar } from './components/ContextualSaveBar/ContextualSaveBar.js';\nimport { FrameContext } from '../../utilities/frame/context.js';\nimport { ToastManager } from './components/ToastManager/ToastManager.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { TrapFocus } from '../TrapFocus/TrapFocus.js';\nimport { tokens } from '../../tokens/tokens.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\nimport { EventListener } from '../EventListener/EventListener.js';\nconst APP_FRAME_MAIN = 'AppFrameMain';\nconst APP_FRAME_NAV = 'AppFrameNav';\nconst APP_FRAME_TOP_BAR = 'AppFrameTopBar';\nconst APP_FRAME_LOADING_BAR = 'AppFrameLoadingBar';\n\nclass FrameInner extends PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      skipFocused: false,\n      globalRibbonHeight: 0,\n      loadingStack: 0,\n      toastMessages: [],\n      showContextualSaveBar: false\n    };\n    this.contextualSaveBar = null;\n    this.globalRibbonContainer = null;\n    this.navigationNode = /*#__PURE__*/createRef();\n\n    this.setGlobalRibbonHeight = () => {\n      const {\n        globalRibbonContainer\n      } = this;\n\n      if (globalRibbonContainer) {\n        this.setState({\n          globalRibbonHeight: globalRibbonContainer.offsetHeight\n        }, this.setGlobalRibbonRootProperty);\n      }\n    };\n\n    this.setOffset = () => {\n      const {\n        offset = '0px'\n      } = this.props;\n      setRootProperty('--pc-frame-offset', offset);\n    };\n\n    this.setGlobalRibbonRootProperty = () => {\n      const {\n        globalRibbonHeight\n      } = this.state;\n      setRootProperty('--pc-frame-global-ribbon-height', `${globalRibbonHeight}px`);\n    };\n\n    this.showToast = toast => {\n      this.setState(_ref => {\n        let {\n          toastMessages\n        } = _ref;\n        const hasToastById = toastMessages.find(_ref2 => {\n          let {\n            id\n          } = _ref2;\n          return id === toast.id;\n        }) != null;\n        return {\n          toastMessages: hasToastById ? toastMessages : [...toastMessages, toast]\n        };\n      });\n    };\n\n    this.hideToast = _ref3 => {\n      let {\n        id\n      } = _ref3;\n      this.setState(_ref4 => {\n        let {\n          toastMessages\n        } = _ref4;\n        return {\n          toastMessages: toastMessages.filter(_ref5 => {\n            let {\n              id: toastId\n            } = _ref5;\n            return id !== toastId;\n          })\n        };\n      });\n    };\n\n    this.setContextualSaveBar = props => {\n      const {\n        showContextualSaveBar\n      } = this.state;\n      this.contextualSaveBar = { ...props\n      };\n\n      if (showContextualSaveBar === true) {\n        this.forceUpdate();\n      } else {\n        this.setState({\n          showContextualSaveBar: true\n        });\n      }\n    };\n\n    this.removeContextualSaveBar = () => {\n      this.contextualSaveBar = null;\n      this.setState({\n        showContextualSaveBar: false\n      });\n    };\n\n    this.startLoading = () => {\n      this.setState(_ref6 => {\n        let {\n          loadingStack\n        } = _ref6;\n        return {\n          loadingStack: loadingStack + 1\n        };\n      });\n    };\n\n    this.stopLoading = () => {\n      this.setState(_ref7 => {\n        let {\n          loadingStack\n        } = _ref7;\n        return {\n          loadingStack: Math.max(0, loadingStack - 1)\n        };\n      });\n    };\n\n    this.handleResize = () => {\n      if (this.props.globalRibbon) {\n        this.setGlobalRibbonHeight();\n      }\n    };\n\n    this.handleFocus = () => {\n      this.setState({\n        skipFocused: true\n      });\n    };\n\n    this.handleBlur = () => {\n      this.setState({\n        skipFocused: false\n      });\n    };\n\n    this.handleClick = event => {\n      const {\n        skipToContentTarget\n      } = this.props;\n\n      if (skipToContentTarget && skipToContentTarget.current) {\n        skipToContentTarget.current.focus();\n        event === null || event === void 0 ? void 0 : event.preventDefault();\n      }\n    };\n\n    this.handleNavigationDismiss = () => {\n      const {\n        onNavigationDismiss\n      } = this.props;\n\n      if (onNavigationDismiss != null) {\n        onNavigationDismiss();\n      }\n    };\n\n    this.setGlobalRibbonContainer = node => {\n      this.globalRibbonContainer = node;\n    };\n\n    this.handleNavKeydown = event => {\n      const {\n        key\n      } = event;\n      const {\n        mediaQuery: {\n          isNavigationCollapsed\n        },\n        showMobileNavigation\n      } = this.props;\n      const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n\n      if (mobileNavShowing && key === 'Escape') {\n        this.handleNavigationDismiss();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.handleResize();\n\n    if (this.props.globalRibbon) {\n      return;\n    }\n\n    this.setGlobalRibbonRootProperty();\n    this.setOffset();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.globalRibbon !== prevProps.globalRibbon) {\n      this.setGlobalRibbonHeight();\n    }\n\n    this.setOffset();\n  }\n\n  render() {\n    const {\n      skipFocused,\n      loadingStack,\n      toastMessages,\n      showContextualSaveBar\n    } = this.state;\n    const {\n      logo,\n      children,\n      navigation,\n      topBar,\n      globalRibbon,\n      showMobileNavigation = false,\n      skipToContentTarget,\n      i18n,\n      mediaQuery: {\n        isNavigationCollapsed\n      }\n    } = this.props;\n    const navClassName = classNames(styles.Navigation, showMobileNavigation && styles['Navigation-visible']);\n    const mobileNavHidden = isNavigationCollapsed && !showMobileNavigation;\n    const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n    const tabIndex = mobileNavShowing ? 0 : -1;\n    const mobileNavAttributes = { ...(mobileNavShowing && {\n        'aria-modal': true,\n        role: 'dialog'\n      })\n    };\n    const navigationMarkup = navigation ? /*#__PURE__*/React.createElement(TrapFocus, {\n      trapping: mobileNavShowing\n    }, /*#__PURE__*/React.createElement(CSSTransition, {\n      nodeRef: this.navigationNode,\n      appear: isNavigationCollapsed,\n      exit: isNavigationCollapsed,\n      in: showMobileNavigation,\n      timeout: parseInt(tokens.motion['duration-300'], 10),\n      classNames: navTransitionClasses\n    }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      key: \"NavContent\"\n    }, mobileNavAttributes, {\n      \"aria-label\": i18n.translate('Polaris.Frame.navigationLabel'),\n      ref: this.navigationNode,\n      className: navClassName,\n      onKeyDown: this.handleNavKeydown,\n      id: APP_FRAME_NAV,\n      hidden: mobileNavHidden\n    }), navigation, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: styles.NavigationDismiss,\n      onClick: this.handleNavigationDismiss,\n      \"aria-hidden\": mobileNavHidden || !isNavigationCollapsed && !showMobileNavigation,\n      \"aria-label\": i18n.translate('Polaris.Frame.Navigation.closeMobileNavigationLabel'),\n      tabIndex: tabIndex\n    }, /*#__PURE__*/React.createElement(Icon, {\n      source: MobileCancelMajor\n    }))))) : null;\n    const loadingMarkup = loadingStack > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.LoadingBar,\n      id: APP_FRAME_LOADING_BAR\n    }, /*#__PURE__*/React.createElement(Loading, null)) : null;\n    const contextualSaveBarMarkup = /*#__PURE__*/React.createElement(CSSAnimation, {\n      in: showContextualSaveBar,\n      className: styles.ContextualSaveBar,\n      type: \"fade\"\n    }, /*#__PURE__*/React.createElement(ContextualSaveBar, this.contextualSaveBar));\n    const topBarMarkup = topBar ? /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      className: styles.TopBar\n    }, layer.props, dataPolarisTopBar.props, {\n      id: APP_FRAME_TOP_BAR\n    }), topBar) : null;\n    const globalRibbonMarkup = globalRibbon ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.GlobalRibbonContainer,\n      ref: this.setGlobalRibbonContainer\n    }, globalRibbon) : null;\n    const skipClassName = classNames(styles.Skip, skipFocused && styles.focused);\n    const skipTarget = skipToContentTarget !== null && skipToContentTarget !== void 0 && skipToContentTarget.current ? skipToContentTarget.current.id : APP_FRAME_MAIN;\n    const skipMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: skipClassName\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: `#${skipTarget}`,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick\n    }, i18n.translate('Polaris.Frame.skipToContent')));\n    const navigationAttributes = navigation ? {\n      'data-has-navigation': true\n    } : {};\n    const frameClassName = classNames(styles.Frame, navigation && styles.hasNav, topBar && styles.hasTopBar);\n    const navigationOverlayMarkup = showMobileNavigation && isNavigationCollapsed ? /*#__PURE__*/React.createElement(Backdrop, {\n      belowNavigation: true,\n      onClick: this.handleNavigationDismiss,\n      onTouchStart: this.handleNavigationDismiss\n    }) : null; // This is probably a legit error but I don't have the time to refactor this\n    // eslint-disable-next-line react/jsx-no-constructed-context-values\n\n    const context = {\n      logo,\n      showToast: this.showToast,\n      hideToast: this.hideToast,\n      startLoading: this.startLoading,\n      stopLoading: this.stopLoading,\n      setContextualSaveBar: this.setContextualSaveBar,\n      removeContextualSaveBar: this.removeContextualSaveBar\n    };\n    return /*#__PURE__*/React.createElement(FrameContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      className: frameClassName\n    }, layer.props, navigationAttributes), skipMarkup, topBarMarkup, navigationMarkup, contextualSaveBarMarkup, loadingMarkup, navigationOverlayMarkup, /*#__PURE__*/React.createElement(\"main\", {\n      className: styles.Main,\n      id: APP_FRAME_MAIN,\n      \"data-has-global-ribbon\": Boolean(globalRibbon)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Content\n    }, children)), /*#__PURE__*/React.createElement(ToastManager, {\n      toastMessages: toastMessages\n    }), globalRibbonMarkup, /*#__PURE__*/React.createElement(EventListener, {\n      event: \"resize\",\n      handler: this.handleResize\n    })));\n  }\n\n}\n\nconst navTransitionClasses = {\n  enter: classNames(styles['Navigation-enter']),\n  enterActive: classNames(styles['Navigation-enterActive']),\n  enterDone: classNames(styles['Navigation-enterActive']),\n  exit: classNames(styles['Navigation-exit']),\n  exitActive: classNames(styles['Navigation-exitActive'])\n};\n\nfunction Frame(props) {\n  const i18n = useI18n();\n  const mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React.createElement(FrameInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Frame };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/Frame/Frame.js"],"names":["React","PureComponent","createRef","MobileCancelMajor","CSSTransition","classNames","layer","dataPolarisTopBar","setRootProperty","styles","Loading","CSSAnimation","ContextualSaveBar","FrameContext","ToastManager","useI18n","useMediaQuery","TrapFocus","tokens","Icon","Backdrop","EventListener","APP_FRAME_MAIN","APP_FRAME_NAV","APP_FRAME_TOP_BAR","APP_FRAME_LOADING_BAR","FrameInner","constructor","state","skipFocused","globalRibbonHeight","loadingStack","toastMessages","showContextualSaveBar","contextualSaveBar","globalRibbonContainer","navigationNode","setGlobalRibbonHeight","setState","offsetHeight","setGlobalRibbonRootProperty","setOffset","offset","props","showToast","toast","hasToastById","find","id","hideToast","filter","toastId","setContextualSaveBar","forceUpdate","removeContextualSaveBar","startLoading","stopLoading","Math","max","handleResize","globalRibbon","handleFocus","handleBlur","handleClick","event","skipToContentTarget","current","focus","preventDefault","handleNavigationDismiss","onNavigationDismiss","setGlobalRibbonContainer","node","handleNavKeydown","key","mediaQuery","isNavigationCollapsed","showMobileNavigation","mobileNavShowing","componentDidMount","componentDidUpdate","prevProps","render","logo","children","navigation","topBar","i18n","navClassName","Navigation","mobileNavHidden","tabIndex","mobileNavAttributes","role","navigationMarkup","createElement","trapping","nodeRef","appear","exit","in","timeout","parseInt","motion","navTransitionClasses","Object","assign","translate","ref","className","onKeyDown","hidden","type","NavigationDismiss","onClick","source","loadingMarkup","LoadingBar","contextualSaveBarMarkup","topBarMarkup","TopBar","globalRibbonMarkup","GlobalRibbonContainer","skipClassName","Skip","focused","skipTarget","skipMarkup","href","onFocus","onBlur","navigationAttributes","frameClassName","Frame","hasNav","hasTopBar","navigationOverlayMarkup","belowNavigation","onTouchStart","context","Provider","value","Main","Boolean","Content","handler","enter","enterActive","enterDone","exitActive"],"mappings":"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","sourcesContent":["import React, { PureComponent, createRef } from 'react';\nimport { MobileCancelMajor } from '@shopify/polaris-icons';\nimport { CSSTransition } from 'react-transition-group';\nimport { classNames } from '../../utilities/css.js';\nimport { layer, dataPolarisTopBar } from '../shared.js';\nimport { setRootProperty } from '../../utilities/set-root-property.js';\nimport styles from './Frame.scss.js';\nimport { Loading } from './components/Loading/Loading.js';\nimport { CSSAnimation } from './components/CSSAnimation/CSSAnimation.js';\nimport { ContextualSaveBar } from './components/ContextualSaveBar/ContextualSaveBar.js';\nimport { FrameContext } from '../../utilities/frame/context.js';\nimport { ToastManager } from './components/ToastManager/ToastManager.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { TrapFocus } from '../TrapFocus/TrapFocus.js';\nimport { tokens } from '../../tokens/tokens.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\nimport { EventListener } from '../EventListener/EventListener.js';\n\nconst APP_FRAME_MAIN = 'AppFrameMain';\nconst APP_FRAME_NAV = 'AppFrameNav';\nconst APP_FRAME_TOP_BAR = 'AppFrameTopBar';\nconst APP_FRAME_LOADING_BAR = 'AppFrameLoadingBar';\n\nclass FrameInner extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      skipFocused: false,\n      globalRibbonHeight: 0,\n      loadingStack: 0,\n      toastMessages: [],\n      showContextualSaveBar: false\n    };\n    this.contextualSaveBar = null;\n    this.globalRibbonContainer = null;\n    this.navigationNode = /*#__PURE__*/createRef();\n\n    this.setGlobalRibbonHeight = () => {\n      const {\n        globalRibbonContainer\n      } = this;\n\n      if (globalRibbonContainer) {\n        this.setState({\n          globalRibbonHeight: globalRibbonContainer.offsetHeight\n        }, this.setGlobalRibbonRootProperty);\n      }\n    };\n\n    this.setOffset = () => {\n      const {\n        offset = '0px'\n      } = this.props;\n      setRootProperty('--pc-frame-offset', offset);\n    };\n\n    this.setGlobalRibbonRootProperty = () => {\n      const {\n        globalRibbonHeight\n      } = this.state;\n      setRootProperty('--pc-frame-global-ribbon-height', `${globalRibbonHeight}px`);\n    };\n\n    this.showToast = toast => {\n      this.setState(({\n        toastMessages\n      }) => {\n        const hasToastById = toastMessages.find(({\n          id\n        }) => id === toast.id) != null;\n        return {\n          toastMessages: hasToastById ? toastMessages : [...toastMessages, toast]\n        };\n      });\n    };\n\n    this.hideToast = ({\n      id\n    }) => {\n      this.setState(({\n        toastMessages\n      }) => {\n        return {\n          toastMessages: toastMessages.filter(({\n            id: toastId\n          }) => id !== toastId)\n        };\n      });\n    };\n\n    this.setContextualSaveBar = props => {\n      const {\n        showContextualSaveBar\n      } = this.state;\n      this.contextualSaveBar = { ...props\n      };\n\n      if (showContextualSaveBar === true) {\n        this.forceUpdate();\n      } else {\n        this.setState({\n          showContextualSaveBar: true\n        });\n      }\n    };\n\n    this.removeContextualSaveBar = () => {\n      this.contextualSaveBar = null;\n      this.setState({\n        showContextualSaveBar: false\n      });\n    };\n\n    this.startLoading = () => {\n      this.setState(({\n        loadingStack\n      }) => ({\n        loadingStack: loadingStack + 1\n      }));\n    };\n\n    this.stopLoading = () => {\n      this.setState(({\n        loadingStack\n      }) => ({\n        loadingStack: Math.max(0, loadingStack - 1)\n      }));\n    };\n\n    this.handleResize = () => {\n      if (this.props.globalRibbon) {\n        this.setGlobalRibbonHeight();\n      }\n    };\n\n    this.handleFocus = () => {\n      this.setState({\n        skipFocused: true\n      });\n    };\n\n    this.handleBlur = () => {\n      this.setState({\n        skipFocused: false\n      });\n    };\n\n    this.handleClick = event => {\n      const {\n        skipToContentTarget\n      } = this.props;\n\n      if (skipToContentTarget && skipToContentTarget.current) {\n        skipToContentTarget.current.focus();\n        event === null || event === void 0 ? void 0 : event.preventDefault();\n      }\n    };\n\n    this.handleNavigationDismiss = () => {\n      const {\n        onNavigationDismiss\n      } = this.props;\n\n      if (onNavigationDismiss != null) {\n        onNavigationDismiss();\n      }\n    };\n\n    this.setGlobalRibbonContainer = node => {\n      this.globalRibbonContainer = node;\n    };\n\n    this.handleNavKeydown = event => {\n      const {\n        key\n      } = event;\n      const {\n        mediaQuery: {\n          isNavigationCollapsed\n        },\n        showMobileNavigation\n      } = this.props;\n      const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n\n      if (mobileNavShowing && key === 'Escape') {\n        this.handleNavigationDismiss();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.handleResize();\n\n    if (this.props.globalRibbon) {\n      return;\n    }\n\n    this.setGlobalRibbonRootProperty();\n    this.setOffset();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.globalRibbon !== prevProps.globalRibbon) {\n      this.setGlobalRibbonHeight();\n    }\n\n    this.setOffset();\n  }\n\n  render() {\n    const {\n      skipFocused,\n      loadingStack,\n      toastMessages,\n      showContextualSaveBar\n    } = this.state;\n    const {\n      logo,\n      children,\n      navigation,\n      topBar,\n      globalRibbon,\n      showMobileNavigation = false,\n      skipToContentTarget,\n      i18n,\n      mediaQuery: {\n        isNavigationCollapsed\n      }\n    } = this.props;\n    const navClassName = classNames(styles.Navigation, showMobileNavigation && styles['Navigation-visible']);\n    const mobileNavHidden = isNavigationCollapsed && !showMobileNavigation;\n    const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n    const tabIndex = mobileNavShowing ? 0 : -1;\n    const mobileNavAttributes = { ...(mobileNavShowing && {\n        'aria-modal': true,\n        role: 'dialog'\n      })\n    };\n    const navigationMarkup = navigation ? /*#__PURE__*/React.createElement(TrapFocus, {\n      trapping: mobileNavShowing\n    }, /*#__PURE__*/React.createElement(CSSTransition, {\n      nodeRef: this.navigationNode,\n      appear: isNavigationCollapsed,\n      exit: isNavigationCollapsed,\n      in: showMobileNavigation,\n      timeout: parseInt(tokens.motion['duration-300'], 10),\n      classNames: navTransitionClasses\n    }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      key: \"NavContent\"\n    }, mobileNavAttributes, {\n      \"aria-label\": i18n.translate('Polaris.Frame.navigationLabel'),\n      ref: this.navigationNode,\n      className: navClassName,\n      onKeyDown: this.handleNavKeydown,\n      id: APP_FRAME_NAV,\n      hidden: mobileNavHidden\n    }), navigation, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: styles.NavigationDismiss,\n      onClick: this.handleNavigationDismiss,\n      \"aria-hidden\": mobileNavHidden || !isNavigationCollapsed && !showMobileNavigation,\n      \"aria-label\": i18n.translate('Polaris.Frame.Navigation.closeMobileNavigationLabel'),\n      tabIndex: tabIndex\n    }, /*#__PURE__*/React.createElement(Icon, {\n      source: MobileCancelMajor\n    }))))) : null;\n    const loadingMarkup = loadingStack > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.LoadingBar,\n      id: APP_FRAME_LOADING_BAR\n    }, /*#__PURE__*/React.createElement(Loading, null)) : null;\n    const contextualSaveBarMarkup = /*#__PURE__*/React.createElement(CSSAnimation, {\n      in: showContextualSaveBar,\n      className: styles.ContextualSaveBar,\n      type: \"fade\"\n    }, /*#__PURE__*/React.createElement(ContextualSaveBar, this.contextualSaveBar));\n    const topBarMarkup = topBar ? /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      className: styles.TopBar\n    }, layer.props, dataPolarisTopBar.props, {\n      id: APP_FRAME_TOP_BAR\n    }), topBar) : null;\n    const globalRibbonMarkup = globalRibbon ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.GlobalRibbonContainer,\n      ref: this.setGlobalRibbonContainer\n    }, globalRibbon) : null;\n    const skipClassName = classNames(styles.Skip, skipFocused && styles.focused);\n    const skipTarget = skipToContentTarget !== null && skipToContentTarget !== void 0 && skipToContentTarget.current ? skipToContentTarget.current.id : APP_FRAME_MAIN;\n    const skipMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: skipClassName\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: `#${skipTarget}`,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick\n    }, i18n.translate('Polaris.Frame.skipToContent')));\n    const navigationAttributes = navigation ? {\n      'data-has-navigation': true\n    } : {};\n    const frameClassName = classNames(styles.Frame, navigation && styles.hasNav, topBar && styles.hasTopBar);\n    const navigationOverlayMarkup = showMobileNavigation && isNavigationCollapsed ? /*#__PURE__*/React.createElement(Backdrop, {\n      belowNavigation: true,\n      onClick: this.handleNavigationDismiss,\n      onTouchStart: this.handleNavigationDismiss\n    }) : null; // This is probably a legit error but I don't have the time to refactor this\n    // eslint-disable-next-line react/jsx-no-constructed-context-values\n\n    const context = {\n      logo,\n      showToast: this.showToast,\n      hideToast: this.hideToast,\n      startLoading: this.startLoading,\n      stopLoading: this.stopLoading,\n      setContextualSaveBar: this.setContextualSaveBar,\n      removeContextualSaveBar: this.removeContextualSaveBar\n    };\n    return /*#__PURE__*/React.createElement(FrameContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      className: frameClassName\n    }, layer.props, navigationAttributes), skipMarkup, topBarMarkup, navigationMarkup, contextualSaveBarMarkup, loadingMarkup, navigationOverlayMarkup, /*#__PURE__*/React.createElement(\"main\", {\n      className: styles.Main,\n      id: APP_FRAME_MAIN,\n      \"data-has-global-ribbon\": Boolean(globalRibbon)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Content\n    }, children)), /*#__PURE__*/React.createElement(ToastManager, {\n      toastMessages: toastMessages\n    }), globalRibbonMarkup, /*#__PURE__*/React.createElement(EventListener, {\n      event: \"resize\",\n      handler: this.handleResize\n    })));\n  }\n\n}\n\nconst navTransitionClasses = {\n  enter: classNames(styles['Navigation-enter']),\n  enterActive: classNames(styles['Navigation-enterActive']),\n  enterDone: classNames(styles['Navigation-enterActive']),\n  exit: classNames(styles['Navigation-exit']),\n  exitActive: classNames(styles['Navigation-exitActive'])\n};\nfunction Frame(props) {\n  const i18n = useI18n();\n  const mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React.createElement(FrameInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Frame };\n"]},"metadata":{},"sourceType":"module"}