{"ast":null,"code":"import React, { memo, createRef } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useDeepEffect } from '../../../../utilities/use-deep-effect.js';\nimport { useDeepCallback } from '../../../../utilities/use-deep-callback.js';\nimport styles from './ToastManager.scss.js';\nimport { Toast } from '../Toast/Toast.js';\nimport { Portal } from '../../../Portal/Portal.js';\nimport { EventListener } from '../../../EventListener/EventListener.js';\nconst ToastManager = /*#__PURE__*/memo(function ToastManager(_ref) {\n  let {\n    toastMessages\n  } = _ref;\n  const toastNodes = [];\n  const updateToasts = useDeepCallback(() => {\n    let targetInPos = 0;\n    toastMessages.forEach((_, index) => {\n      const currentToast = toastNodes[index];\n      if (!currentToast.current) return;\n      targetInPos += currentToast.current.clientHeight;\n      currentToast.current.style.setProperty('--pc-toast-manager-translate-y-in', `-${targetInPos}px`);\n      currentToast.current.style.setProperty('--pc-toast-manager-translate-y-out', `${-targetInPos + 150}px`);\n    });\n  }, [toastMessages, toastNodes]);\n  useDeepEffect(() => {\n    updateToasts();\n  }, [toastMessages]);\n  const toastsMarkup = toastMessages.map((toast, index) => {\n    const toastNode = /*#__PURE__*/createRef();\n    toastNodes[index] = toastNode;\n    return /*#__PURE__*/React.createElement(CSSTransition, {\n      nodeRef: toastNodes[index],\n      key: toast.id,\n      timeout: {\n        enter: 0,\n        exit: 400\n      },\n      classNames: toastClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: toastNode\n    }, /*#__PURE__*/React.createElement(Toast, toast)));\n  });\n  return /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(EventListener, {\n    event: \"resize\",\n    handler: updateToasts\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ToastManager,\n    \"aria-live\": \"assertive\"\n  }, /*#__PURE__*/React.createElement(TransitionGroup, {\n    component: null\n  }, toastsMarkup)));\n});\nconst toastClasses = {\n  enter: classNames(styles.ToastWrapper, styles['ToastWrapper-enter']),\n  enterDone: classNames(styles.ToastWrapper, styles['ToastWrapper-enter-done']),\n  exit: classNames(styles.ToastWrapper, styles['ToastWrapper-exit'])\n};\nexport { ToastManager };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/Frame/components/ToastManager/ToastManager.js"],"names":["React","memo","createRef","CSSTransition","TransitionGroup","classNames","useDeepEffect","useDeepCallback","styles","Toast","Portal","EventListener","ToastManager","toastMessages","toastNodes","updateToasts","targetInPos","forEach","_","index","currentToast","current","clientHeight","style","setProperty","toastsMarkup","map","toast","toastNode","createElement","nodeRef","key","id","timeout","enter","exit","toastClasses","ref","event","handler","className","component","ToastWrapper","enterDone"],"mappings":"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","sourcesContent":["import React, { memo, createRef } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useDeepEffect } from '../../../../utilities/use-deep-effect.js';\nimport { useDeepCallback } from '../../../../utilities/use-deep-callback.js';\nimport styles from './ToastManager.scss.js';\nimport { Toast } from '../Toast/Toast.js';\nimport { Portal } from '../../../Portal/Portal.js';\nimport { EventListener } from '../../../EventListener/EventListener.js';\n\nconst ToastManager = /*#__PURE__*/memo(function ToastManager({\n  toastMessages\n}) {\n  const toastNodes = [];\n  const updateToasts = useDeepCallback(() => {\n    let targetInPos = 0;\n    toastMessages.forEach((_, index) => {\n      const currentToast = toastNodes[index];\n      if (!currentToast.current) return;\n      targetInPos += currentToast.current.clientHeight;\n      currentToast.current.style.setProperty('--pc-toast-manager-translate-y-in', `-${targetInPos}px`);\n      currentToast.current.style.setProperty('--pc-toast-manager-translate-y-out', `${-targetInPos + 150}px`);\n    });\n  }, [toastMessages, toastNodes]);\n  useDeepEffect(() => {\n    updateToasts();\n  }, [toastMessages]);\n  const toastsMarkup = toastMessages.map((toast, index) => {\n    const toastNode = /*#__PURE__*/createRef();\n    toastNodes[index] = toastNode;\n    return /*#__PURE__*/React.createElement(CSSTransition, {\n      nodeRef: toastNodes[index],\n      key: toast.id,\n      timeout: {\n        enter: 0,\n        exit: 400\n      },\n      classNames: toastClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: toastNode\n    }, /*#__PURE__*/React.createElement(Toast, toast)));\n  });\n  return /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(EventListener, {\n    event: \"resize\",\n    handler: updateToasts\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ToastManager,\n    \"aria-live\": \"assertive\"\n  }, /*#__PURE__*/React.createElement(TransitionGroup, {\n    component: null\n  }, toastsMarkup)));\n});\nconst toastClasses = {\n  enter: classNames(styles.ToastWrapper, styles['ToastWrapper-enter']),\n  enterDone: classNames(styles.ToastWrapper, styles['ToastWrapper-enter-done']),\n  exit: classNames(styles.ToastWrapper, styles['ToastWrapper-exit'])\n};\n\nexport { ToastManager };\n"]},"metadata":{},"sourceType":"module"}