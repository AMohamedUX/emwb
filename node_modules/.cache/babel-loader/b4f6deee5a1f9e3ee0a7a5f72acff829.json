{"ast":null,"code":"import React, { forwardRef, useRef, useState, useContext, useImperativeHandle } from 'react';\nimport { MinusMinor, TickSmallMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../utilities/css.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { Key } from '../../types.js';\nimport { WithinListboxContext } from '../../utilities/listbox/context.js';\nimport styles from './Checkbox.scss.js';\nimport { Choice, helpTextID } from '../Choice/Choice.js';\nimport { errorTextID } from '../InlineError/InlineError.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { Icon } from '../Icon/Icon.js';\nconst Checkbox = /*#__PURE__*/forwardRef(function Checkbox(_ref, ref) {\n  let {\n    ariaControls,\n    ariaDescribedBy: ariaDescribedByProp,\n    label,\n    labelHidden,\n    checked = false,\n    helpText,\n    disabled,\n    id: idProp,\n    name,\n    value,\n    error,\n    onChange,\n    onFocus,\n    onBlur\n  } = _ref;\n  const inputNode = useRef(null);\n  const id = useUniqueId('Checkbox', idProp);\n  const {\n    value: mouseOver,\n    setTrue: handleMouseOver,\n    setFalse: handleMouseOut\n  } = useToggle(false);\n  const [keyFocused, setKeyFocused] = useState(false);\n  const isWithinListbox = useContext(WithinListboxContext);\n  useImperativeHandle(ref, () => ({\n    focus: () => {\n      if (inputNode.current) {\n        inputNode.current.focus();\n      }\n    }\n  }));\n\n  const handleBlur = () => {\n    onBlur && onBlur();\n    setKeyFocused(false);\n  };\n\n  const handleKeyUp = event => {\n    const {\n      keyCode\n    } = event;\n\n    if (keyCode === Key.Space || keyCode === Key.Tab) {\n      !keyFocused && setKeyFocused(true);\n    }\n  };\n\n  const handleOnClick = () => {\n    if (onChange == null || inputNode.current == null || disabled) {\n      return;\n    }\n\n    onChange(inputNode.current.checked, id);\n    inputNode.current.focus();\n  };\n\n  const describedBy = [];\n\n  if (error && typeof error !== 'boolean') {\n    describedBy.push(errorTextID(id));\n  }\n\n  if (helpText) {\n    describedBy.push(helpTextID(id));\n  }\n\n  if (ariaDescribedByProp) {\n    describedBy.push(ariaDescribedByProp);\n  }\n\n  const ariaDescribedBy = describedBy.length ? describedBy.join(' ') : undefined;\n  const wrapperClassName = classNames(styles.Checkbox, error && styles.error);\n  const backdropClassName = classNames(styles.Backdrop, mouseOver && styles.hover);\n  const isIndeterminate = checked === 'indeterminate';\n  const isChecked = !isIndeterminate && Boolean(checked);\n  const indeterminateAttributes = isIndeterminate ? {\n    indeterminate: 'true',\n    'aria-checked': 'mixed'\n  } : {\n    'aria-checked': isChecked\n  };\n  const iconSource = isIndeterminate ? MinusMinor : TickSmallMinor;\n  const inputClassName = classNames(styles.Input, isIndeterminate && styles['Input-indeterminate'], keyFocused && styles.keyFocused);\n  return /*#__PURE__*/React.createElement(Choice, {\n    id: id,\n    label: label,\n    labelHidden: labelHidden,\n    helpText: helpText,\n    error: error,\n    disabled: disabled,\n    onMouseOver: handleMouseOver,\n    onMouseOut: handleMouseOut\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: wrapperClassName\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    ref: inputNode,\n    id: id,\n    name: name,\n    value: value,\n    type: \"checkbox\",\n    checked: isChecked,\n    disabled: disabled,\n    className: inputClassName,\n    onBlur: handleBlur,\n    onChange: noop,\n    onClick: handleOnClick,\n    onFocus: onFocus,\n    onKeyUp: handleKeyUp,\n    \"aria-invalid\": error != null,\n    \"aria-controls\": ariaControls,\n    \"aria-describedby\": ariaDescribedBy,\n    role: isWithinListbox ? 'presentation' : 'checkbox'\n  }, indeterminateAttributes)), /*#__PURE__*/React.createElement(\"span\", {\n    className: backdropClassName,\n    onClick: stopPropagation,\n    onKeyUp: stopPropagation\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: iconSource\n  }))));\n});\n\nfunction noop() {}\n\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nexport { Checkbox };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/Checkbox/Checkbox.js"],"names":["React","forwardRef","useRef","useState","useContext","useImperativeHandle","MinusMinor","TickSmallMinor","classNames","useToggle","Key","WithinListboxContext","styles","Choice","helpTextID","errorTextID","useUniqueId","Icon","Checkbox","ref","ariaControls","ariaDescribedBy","ariaDescribedByProp","label","labelHidden","checked","helpText","disabled","id","idProp","name","value","error","onChange","onFocus","onBlur","inputNode","mouseOver","setTrue","handleMouseOver","setFalse","handleMouseOut","keyFocused","setKeyFocused","isWithinListbox","focus","current","handleBlur","handleKeyUp","event","keyCode","Space","Tab","handleOnClick","describedBy","push","length","join","undefined","wrapperClassName","backdropClassName","Backdrop","hover","isIndeterminate","isChecked","Boolean","indeterminateAttributes","indeterminate","iconSource","inputClassName","Input","createElement","onMouseOver","onMouseOut","className","Object","assign","type","noop","onClick","onKeyUp","role","stopPropagation","source"],"mappings":"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","sourcesContent":["import React, { forwardRef, useRef, useState, useContext, useImperativeHandle } from 'react';\nimport { MinusMinor, TickSmallMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../utilities/css.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { Key } from '../../types.js';\nimport { WithinListboxContext } from '../../utilities/listbox/context.js';\nimport styles from './Checkbox.scss.js';\nimport { Choice, helpTextID } from '../Choice/Choice.js';\nimport { errorTextID } from '../InlineError/InlineError.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { Icon } from '../Icon/Icon.js';\n\nconst Checkbox = /*#__PURE__*/forwardRef(function Checkbox({\n  ariaControls,\n  ariaDescribedBy: ariaDescribedByProp,\n  label,\n  labelHidden,\n  checked = false,\n  helpText,\n  disabled,\n  id: idProp,\n  name,\n  value,\n  error,\n  onChange,\n  onFocus,\n  onBlur\n}, ref) {\n  const inputNode = useRef(null);\n  const id = useUniqueId('Checkbox', idProp);\n  const {\n    value: mouseOver,\n    setTrue: handleMouseOver,\n    setFalse: handleMouseOut\n  } = useToggle(false);\n  const [keyFocused, setKeyFocused] = useState(false);\n  const isWithinListbox = useContext(WithinListboxContext);\n  useImperativeHandle(ref, () => ({\n    focus: () => {\n      if (inputNode.current) {\n        inputNode.current.focus();\n      }\n    }\n  }));\n\n  const handleBlur = () => {\n    onBlur && onBlur();\n    setKeyFocused(false);\n  };\n\n  const handleKeyUp = event => {\n    const {\n      keyCode\n    } = event;\n\n    if (keyCode === Key.Space || keyCode === Key.Tab) {\n      !keyFocused && setKeyFocused(true);\n    }\n  };\n\n  const handleOnClick = () => {\n    if (onChange == null || inputNode.current == null || disabled) {\n      return;\n    }\n\n    onChange(inputNode.current.checked, id);\n    inputNode.current.focus();\n  };\n\n  const describedBy = [];\n\n  if (error && typeof error !== 'boolean') {\n    describedBy.push(errorTextID(id));\n  }\n\n  if (helpText) {\n    describedBy.push(helpTextID(id));\n  }\n\n  if (ariaDescribedByProp) {\n    describedBy.push(ariaDescribedByProp);\n  }\n\n  const ariaDescribedBy = describedBy.length ? describedBy.join(' ') : undefined;\n  const wrapperClassName = classNames(styles.Checkbox, error && styles.error);\n  const backdropClassName = classNames(styles.Backdrop, mouseOver && styles.hover);\n  const isIndeterminate = checked === 'indeterminate';\n  const isChecked = !isIndeterminate && Boolean(checked);\n  const indeterminateAttributes = isIndeterminate ? {\n    indeterminate: 'true',\n    'aria-checked': 'mixed'\n  } : {\n    'aria-checked': isChecked\n  };\n  const iconSource = isIndeterminate ? MinusMinor : TickSmallMinor;\n  const inputClassName = classNames(styles.Input, isIndeterminate && styles['Input-indeterminate'], keyFocused && styles.keyFocused);\n  return /*#__PURE__*/React.createElement(Choice, {\n    id: id,\n    label: label,\n    labelHidden: labelHidden,\n    helpText: helpText,\n    error: error,\n    disabled: disabled,\n    onMouseOver: handleMouseOver,\n    onMouseOut: handleMouseOut\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: wrapperClassName\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    ref: inputNode,\n    id: id,\n    name: name,\n    value: value,\n    type: \"checkbox\",\n    checked: isChecked,\n    disabled: disabled,\n    className: inputClassName,\n    onBlur: handleBlur,\n    onChange: noop,\n    onClick: handleOnClick,\n    onFocus: onFocus,\n    onKeyUp: handleKeyUp,\n    \"aria-invalid\": error != null,\n    \"aria-controls\": ariaControls,\n    \"aria-describedby\": ariaDescribedBy,\n    role: isWithinListbox ? 'presentation' : 'checkbox'\n  }, indeterminateAttributes)), /*#__PURE__*/React.createElement(\"span\", {\n    className: backdropClassName,\n    onClick: stopPropagation,\n    onKeyUp: stopPropagation\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: iconSource\n  }))));\n});\n\nfunction noop() {}\n\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nexport { Checkbox };\n"]},"metadata":{},"sourceType":"module"}