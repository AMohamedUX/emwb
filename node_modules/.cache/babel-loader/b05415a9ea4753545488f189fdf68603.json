{"ast":null,"code":"import React, { useCallback } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { getWidth } from '../../../../utilities/get-width.js';\nimport { useToggle } from '../../../../utilities/use-toggle.js';\nimport styles from './ContextualSaveBar.scss.js';\nimport { DiscardConfirmationModal } from './components/DiscardConfirmationModal/DiscardConfirmationModal.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { useFrame } from '../../../../utilities/frame/hooks.js';\nimport { Button } from '../../../Button/Button.js';\nimport { Image } from '../../../Image/Image.js';\nimport { CustomProperties } from '../../../CustomProperties/CustomProperties.js';\nimport { Stack } from '../../../Stack/Stack.js';\n\nfunction ContextualSaveBar(_ref) {\n  let {\n    alignContentFlush,\n    message,\n    saveAction,\n    discardAction,\n    fullWidth,\n    contextControl,\n    secondaryMenu\n  } = _ref;\n  const i18n = useI18n();\n  const {\n    logo\n  } = useFrame();\n  const {\n    value: discardConfirmationModalVisible,\n    toggle: toggleDiscardConfirmationModal,\n    setFalse: closeDiscardConfirmationModal\n  } = useToggle(false);\n  const handleDiscardAction = useCallback(() => {\n    if (discardAction && discardAction.onAction) {\n      discardAction.onAction();\n    }\n\n    closeDiscardConfirmationModal();\n  }, [closeDiscardConfirmationModal, discardAction]);\n  const discardActionContent = discardAction && discardAction.content ? discardAction.content : i18n.translate('Polaris.ContextualSaveBar.discard');\n  let discardActionHandler;\n\n  if (discardAction && discardAction.discardConfirmationModal) {\n    discardActionHandler = toggleDiscardConfirmationModal;\n  } else if (discardAction) {\n    discardActionHandler = discardAction.onAction;\n  }\n\n  const discardConfirmationModalMarkup = discardAction && discardAction.onAction && discardAction.discardConfirmationModal && /*#__PURE__*/React.createElement(DiscardConfirmationModal, {\n    open: discardConfirmationModalVisible,\n    onCancel: toggleDiscardConfirmationModal,\n    onDiscard: handleDiscardAction\n  });\n  const discardActionMarkup = discardAction && /*#__PURE__*/React.createElement(Button, {\n    url: discardAction.url,\n    onClick: discardActionHandler,\n    loading: discardAction.loading,\n    disabled: discardAction.disabled,\n    accessibilityLabel: discardAction.content\n  }, discardActionContent);\n  const saveActionContent = saveAction && saveAction.content ? saveAction.content : i18n.translate('Polaris.ContextualSaveBar.save');\n  const saveActionMarkup = saveAction && /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    url: saveAction.url,\n    onClick: saveAction.onAction,\n    loading: saveAction.loading,\n    disabled: saveAction.disabled,\n    accessibilityLabel: saveAction.content\n  }, saveActionContent);\n  const width = getWidth(logo, 104);\n  const imageMarkup = logo && /*#__PURE__*/React.createElement(Image, {\n    style: {\n      width\n    },\n    source: logo.contextualSaveBarSource || '',\n    alt: \"\"\n  });\n  const logoMarkup = alignContentFlush || contextControl ? null : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.LogoContainer,\n    style: {\n      width\n    }\n  }, imageMarkup);\n  const contextControlMarkup = contextControl ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ContextControl\n  }, contextControl) : null;\n  const contentsClassName = classNames(styles.Contents, fullWidth && styles.fullWidth);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CustomProperties, {\n    colorScheme: \"dark\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ContextualSaveBar\n  }, contextControlMarkup, logoMarkup, /*#__PURE__*/React.createElement(\"div\", {\n    className: contentsClassName\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.Message\n  }, message), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ActionContainer\n  }, /*#__PURE__*/React.createElement(Stack, {\n    spacing: \"tight\",\n    wrap: false\n  }, secondaryMenu, discardActionMarkup, saveActionMarkup))))), discardConfirmationModalMarkup);\n}\n\nexport { ContextualSaveBar };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/Frame/components/ContextualSaveBar/ContextualSaveBar.js"],"names":["React","useCallback","classNames","getWidth","useToggle","styles","DiscardConfirmationModal","useI18n","useFrame","Button","Image","CustomProperties","Stack","ContextualSaveBar","alignContentFlush","message","saveAction","discardAction","fullWidth","contextControl","secondaryMenu","i18n","logo","value","discardConfirmationModalVisible","toggle","toggleDiscardConfirmationModal","setFalse","closeDiscardConfirmationModal","handleDiscardAction","onAction","discardActionContent","content","translate","discardActionHandler","discardConfirmationModal","discardConfirmationModalMarkup","createElement","open","onCancel","onDiscard","discardActionMarkup","url","onClick","loading","disabled","accessibilityLabel","saveActionContent","saveActionMarkup","primary","width","imageMarkup","style","source","contextualSaveBarSource","alt","logoMarkup","className","LogoContainer","contextControlMarkup","ContextControl","contentsClassName","Contents","Fragment","colorScheme","Message","ActionContainer","spacing","wrap"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { getWidth } from '../../../../utilities/get-width.js';\nimport { useToggle } from '../../../../utilities/use-toggle.js';\nimport styles from './ContextualSaveBar.scss.js';\nimport { DiscardConfirmationModal } from './components/DiscardConfirmationModal/DiscardConfirmationModal.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { useFrame } from '../../../../utilities/frame/hooks.js';\nimport { Button } from '../../../Button/Button.js';\nimport { Image } from '../../../Image/Image.js';\nimport { CustomProperties } from '../../../CustomProperties/CustomProperties.js';\nimport { Stack } from '../../../Stack/Stack.js';\n\nfunction ContextualSaveBar({\n  alignContentFlush,\n  message,\n  saveAction,\n  discardAction,\n  fullWidth,\n  contextControl,\n  secondaryMenu\n}) {\n  const i18n = useI18n();\n  const {\n    logo\n  } = useFrame();\n  const {\n    value: discardConfirmationModalVisible,\n    toggle: toggleDiscardConfirmationModal,\n    setFalse: closeDiscardConfirmationModal\n  } = useToggle(false);\n  const handleDiscardAction = useCallback(() => {\n    if (discardAction && discardAction.onAction) {\n      discardAction.onAction();\n    }\n\n    closeDiscardConfirmationModal();\n  }, [closeDiscardConfirmationModal, discardAction]);\n  const discardActionContent = discardAction && discardAction.content ? discardAction.content : i18n.translate('Polaris.ContextualSaveBar.discard');\n  let discardActionHandler;\n\n  if (discardAction && discardAction.discardConfirmationModal) {\n    discardActionHandler = toggleDiscardConfirmationModal;\n  } else if (discardAction) {\n    discardActionHandler = discardAction.onAction;\n  }\n\n  const discardConfirmationModalMarkup = discardAction && discardAction.onAction && discardAction.discardConfirmationModal && /*#__PURE__*/React.createElement(DiscardConfirmationModal, {\n    open: discardConfirmationModalVisible,\n    onCancel: toggleDiscardConfirmationModal,\n    onDiscard: handleDiscardAction\n  });\n  const discardActionMarkup = discardAction && /*#__PURE__*/React.createElement(Button, {\n    url: discardAction.url,\n    onClick: discardActionHandler,\n    loading: discardAction.loading,\n    disabled: discardAction.disabled,\n    accessibilityLabel: discardAction.content\n  }, discardActionContent);\n  const saveActionContent = saveAction && saveAction.content ? saveAction.content : i18n.translate('Polaris.ContextualSaveBar.save');\n  const saveActionMarkup = saveAction && /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    url: saveAction.url,\n    onClick: saveAction.onAction,\n    loading: saveAction.loading,\n    disabled: saveAction.disabled,\n    accessibilityLabel: saveAction.content\n  }, saveActionContent);\n  const width = getWidth(logo, 104);\n  const imageMarkup = logo && /*#__PURE__*/React.createElement(Image, {\n    style: {\n      width\n    },\n    source: logo.contextualSaveBarSource || '',\n    alt: \"\"\n  });\n  const logoMarkup = alignContentFlush || contextControl ? null : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.LogoContainer,\n    style: {\n      width\n    }\n  }, imageMarkup);\n  const contextControlMarkup = contextControl ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ContextControl\n  }, contextControl) : null;\n  const contentsClassName = classNames(styles.Contents, fullWidth && styles.fullWidth);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CustomProperties, {\n    colorScheme: \"dark\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ContextualSaveBar\n  }, contextControlMarkup, logoMarkup, /*#__PURE__*/React.createElement(\"div\", {\n    className: contentsClassName\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.Message\n  }, message), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ActionContainer\n  }, /*#__PURE__*/React.createElement(Stack, {\n    spacing: \"tight\",\n    wrap: false\n  }, secondaryMenu, discardActionMarkup, saveActionMarkup))))), discardConfirmationModalMarkup);\n}\n\nexport { ContextualSaveBar };\n"]},"metadata":{},"sourceType":"module"}