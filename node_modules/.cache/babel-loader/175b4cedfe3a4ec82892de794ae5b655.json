{"ast":null,"code":"import _classCallCheck from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport React, { Component } from 'react';\nimport 'focus-visible/dist/focus-visible';\nimport './AppProvider.scss.js';\nimport { DEFAULT_COLOR_SCHEME, CustomProperties } from '../CustomProperties/CustomProperties.js';\nimport { StickyManager } from '../../utilities/sticky-manager/sticky-manager.js';\nimport { ScrollLockManager } from '../../utilities/scroll-lock-manager/scroll-lock-manager.js';\nimport { UniqueIdFactory, globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\nimport { I18n } from '../../utilities/i18n/I18n.js';\nimport { FeaturesContext } from '../../utilities/features/context.js';\nimport { I18nContext } from '../../utilities/i18n/context.js';\nimport { ScrollLockManagerContext } from '../../utilities/scroll-lock-manager/context.js';\nimport { StickyManagerContext } from '../../utilities/sticky-manager/context.js';\nimport { UniqueIdFactoryContext } from '../../utilities/unique-id/context.js';\nimport { LinkContext } from '../../utilities/link/context.js';\nimport { MediaQueryProvider } from '../MediaQueryProvider/MediaQueryProvider.js';\nimport { PortalsManager } from '../PortalsManager/PortalsManager.js';\nimport { FocusManager } from '../FocusManager/FocusManager.js';\n\nvar AppProvider = /*#__PURE__*/function (_Component) {\n  _inherits(AppProvider, _Component);\n\n  var _super = _createSuper(AppProvider);\n\n  function AppProvider(props) {\n    var _this;\n\n    _classCallCheck(this, AppProvider);\n\n    _this = _super.call(this, props);\n    _this.stickyManager = void 0;\n    _this.scrollLockManager = void 0;\n    _this.uniqueIdFactory = void 0;\n\n    _this.setBodyStyles = function () {\n      // Inlining the following custom properties to maintain backward\n      // compatibility with the legacy ThemeProvider implementation.\n      document.body.setAttribute('p-color-scheme', _this.props.colorScheme || DEFAULT_COLOR_SCHEME);\n      document.body.style.backgroundColor = 'var(--p-background)';\n      document.body.style.color = 'var(--p-text)';\n    };\n\n    _this.stickyManager = new StickyManager();\n    _this.scrollLockManager = new ScrollLockManager();\n    _this.uniqueIdFactory = new UniqueIdFactory(globalIdGeneratorFactory);\n    var _this$props = _this.props,\n        i18n = _this$props.i18n,\n        linkComponent = _this$props.linkComponent; // eslint-disable-next-line react/state-in-constructor\n\n    _this.state = {\n      link: linkComponent,\n      intl: new I18n(i18n)\n    };\n    return _this;\n  }\n\n  _createClass(AppProvider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (document != null) {\n        this.stickyManager.setContainer(document);\n        this.setBodyStyles();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_ref) {\n      var prevColorScheme = _ref.colorScheme,\n          prevI18n = _ref.i18n,\n          prevLinkComponent = _ref.linkComponent;\n      var _this$props2 = this.props,\n          colorScheme = _this$props2.colorScheme,\n          i18n = _this$props2.i18n,\n          linkComponent = _this$props2.linkComponent;\n\n      if (colorScheme !== prevColorScheme) {\n        this.setBodyStyles();\n      }\n\n      if (i18n === prevI18n && linkComponent === prevLinkComponent) {\n        return;\n      } // eslint-disable-next-line react/no-did-update-set-state\n\n\n      this.setState({\n        link: linkComponent,\n        intl: new I18n(i18n)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          children = _this$props3.children,\n          _this$props3$features = _this$props3.features,\n          features = _this$props3$features === void 0 ? {} : _this$props3$features,\n          colorScheme = _this$props3.colorScheme;\n      var _this$state = this.state,\n          intl = _this$state.intl,\n          link = _this$state.link;\n      return /*#__PURE__*/React.createElement(FeaturesContext.Provider, {\n        value: features\n      }, /*#__PURE__*/React.createElement(I18nContext.Provider, {\n        value: intl\n      }, /*#__PURE__*/React.createElement(ScrollLockManagerContext.Provider, {\n        value: this.scrollLockManager\n      }, /*#__PURE__*/React.createElement(StickyManagerContext.Provider, {\n        value: this.stickyManager\n      }, /*#__PURE__*/React.createElement(UniqueIdFactoryContext.Provider, {\n        value: this.uniqueIdFactory\n      }, /*#__PURE__*/React.createElement(LinkContext.Provider, {\n        value: link\n      }, /*#__PURE__*/React.createElement(CustomProperties, {\n        colorScheme: colorScheme\n      }, /*#__PURE__*/React.createElement(MediaQueryProvider, null, /*#__PURE__*/React.createElement(PortalsManager, null, /*#__PURE__*/React.createElement(FocusManager, null, children))))))))));\n    }\n  }]);\n\n  return AppProvider;\n}(Component);\n\nexport { AppProvider };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/AppProvider/AppProvider.js"],"names":["React","Component","DEFAULT_COLOR_SCHEME","CustomProperties","StickyManager","ScrollLockManager","UniqueIdFactory","globalIdGeneratorFactory","I18n","FeaturesContext","I18nContext","ScrollLockManagerContext","StickyManagerContext","UniqueIdFactoryContext","LinkContext","MediaQueryProvider","PortalsManager","FocusManager","AppProvider","props","stickyManager","scrollLockManager","uniqueIdFactory","setBodyStyles","document","body","setAttribute","colorScheme","style","backgroundColor","color","i18n","linkComponent","state","link","intl","setContainer","prevColorScheme","prevI18n","prevLinkComponent","setState","children","features","createElement","Provider","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'focus-visible/dist/focus-visible';\nimport './AppProvider.scss.js';\nimport { DEFAULT_COLOR_SCHEME, CustomProperties } from '../CustomProperties/CustomProperties.js';\nimport { StickyManager } from '../../utilities/sticky-manager/sticky-manager.js';\nimport { ScrollLockManager } from '../../utilities/scroll-lock-manager/scroll-lock-manager.js';\nimport { UniqueIdFactory, globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\nimport { I18n } from '../../utilities/i18n/I18n.js';\nimport { FeaturesContext } from '../../utilities/features/context.js';\nimport { I18nContext } from '../../utilities/i18n/context.js';\nimport { ScrollLockManagerContext } from '../../utilities/scroll-lock-manager/context.js';\nimport { StickyManagerContext } from '../../utilities/sticky-manager/context.js';\nimport { UniqueIdFactoryContext } from '../../utilities/unique-id/context.js';\nimport { LinkContext } from '../../utilities/link/context.js';\nimport { MediaQueryProvider } from '../MediaQueryProvider/MediaQueryProvider.js';\nimport { PortalsManager } from '../PortalsManager/PortalsManager.js';\nimport { FocusManager } from '../FocusManager/FocusManager.js';\n\nclass AppProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.stickyManager = void 0;\n    this.scrollLockManager = void 0;\n    this.uniqueIdFactory = void 0;\n\n    this.setBodyStyles = () => {\n      // Inlining the following custom properties to maintain backward\n      // compatibility with the legacy ThemeProvider implementation.\n      document.body.setAttribute('p-color-scheme', this.props.colorScheme || DEFAULT_COLOR_SCHEME);\n      document.body.style.backgroundColor = 'var(--p-background)';\n      document.body.style.color = 'var(--p-text)';\n    };\n\n    this.stickyManager = new StickyManager();\n    this.scrollLockManager = new ScrollLockManager();\n    this.uniqueIdFactory = new UniqueIdFactory(globalIdGeneratorFactory);\n    const {\n      i18n,\n      linkComponent\n    } = this.props; // eslint-disable-next-line react/state-in-constructor\n\n    this.state = {\n      link: linkComponent,\n      intl: new I18n(i18n)\n    };\n  }\n\n  componentDidMount() {\n    if (document != null) {\n      this.stickyManager.setContainer(document);\n      this.setBodyStyles();\n    }\n  }\n\n  componentDidUpdate({\n    colorScheme: prevColorScheme,\n    i18n: prevI18n,\n    linkComponent: prevLinkComponent\n  }) {\n    const {\n      colorScheme,\n      i18n,\n      linkComponent\n    } = this.props;\n\n    if (colorScheme !== prevColorScheme) {\n      this.setBodyStyles();\n    }\n\n    if (i18n === prevI18n && linkComponent === prevLinkComponent) {\n      return;\n    } // eslint-disable-next-line react/no-did-update-set-state\n\n\n    this.setState({\n      link: linkComponent,\n      intl: new I18n(i18n)\n    });\n  }\n\n  render() {\n    const {\n      children,\n      features = {},\n      colorScheme\n    } = this.props;\n    const {\n      intl,\n      link\n    } = this.state;\n    return /*#__PURE__*/React.createElement(FeaturesContext.Provider, {\n      value: features\n    }, /*#__PURE__*/React.createElement(I18nContext.Provider, {\n      value: intl\n    }, /*#__PURE__*/React.createElement(ScrollLockManagerContext.Provider, {\n      value: this.scrollLockManager\n    }, /*#__PURE__*/React.createElement(StickyManagerContext.Provider, {\n      value: this.stickyManager\n    }, /*#__PURE__*/React.createElement(UniqueIdFactoryContext.Provider, {\n      value: this.uniqueIdFactory\n    }, /*#__PURE__*/React.createElement(LinkContext.Provider, {\n      value: link\n    }, /*#__PURE__*/React.createElement(CustomProperties, {\n      colorScheme: colorScheme\n    }, /*#__PURE__*/React.createElement(MediaQueryProvider, null, /*#__PURE__*/React.createElement(PortalsManager, null, /*#__PURE__*/React.createElement(FocusManager, null, children))))))))));\n  }\n\n}\n\nexport { AppProvider };\n"]},"metadata":{},"sourceType":"module"}