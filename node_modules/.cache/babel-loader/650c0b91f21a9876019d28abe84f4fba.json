{"ast":null,"code":"import _toConsumableArray from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport React, { useRef } from 'react';\nimport { wrapFocusPreviousFocusableMenuItem, wrapFocusNextFocusableMenuItem } from '../../utilities/focus.js';\nimport { Key } from '../../types.js';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './ActionList.scss.js';\nimport { Section } from './components/Section/Section.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\n\nfunction ActionList(_ref) {\n  var items = _ref.items,\n      _ref$sections = _ref.sections,\n      sections = _ref$sections === void 0 ? [] : _ref$sections,\n      actionRole = _ref.actionRole,\n      onActionAnyItem = _ref.onActionAnyItem;\n  var finalSections = [];\n  var actionListRef = useRef(null);\n\n  if (items) {\n    finalSections = [{\n      items: items\n    }].concat(_toConsumableArray(sections));\n  } else if (sections) {\n    finalSections = sections;\n  }\n\n  var className = classNames(styles.ActionList);\n  var hasMultipleSections = finalSections.length > 1;\n  var Element = hasMultipleSections ? 'ul' : 'div';\n  var elementRole = hasMultipleSections && actionRole === 'menuitem' ? 'menu' : undefined;\n  var elementTabIndex = hasMultipleSections && actionRole === 'menuitem' ? -1 : undefined;\n  var sectionMarkup = finalSections.map(function (section, index) {\n    return section.items.length > 0 ? /*#__PURE__*/React.createElement(Section, {\n      key: section.title || index,\n      firstSection: index === 0,\n      section: section,\n      hasMultipleSections: hasMultipleSections,\n      actionRole: actionRole,\n      onActionAnyItem: onActionAnyItem\n    }) : null;\n  });\n\n  var handleFocusPreviousItem = function handleFocusPreviousItem(evt) {\n    evt.preventDefault();\n\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusPreviousFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n\n  var handleFocusNextItem = function handleFocusNextItem(evt) {\n    evt.preventDefault();\n\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusNextFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n\n  var listeners = actionRole === 'menuitem' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.DownArrow,\n    handler: handleFocusNextItem\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.UpArrow,\n    handler: handleFocusPreviousItem\n  })) : null;\n  return /*#__PURE__*/React.createElement(Element, {\n    ref: actionListRef,\n    className: className,\n    role: elementRole,\n    tabIndex: elementTabIndex\n  }, listeners, sectionMarkup);\n}\n\nexport { ActionList };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/ActionList/ActionList.js"],"names":["React","useRef","wrapFocusPreviousFocusableMenuItem","wrapFocusNextFocusableMenuItem","Key","classNames","styles","Section","KeypressListener","ActionList","items","sections","actionRole","onActionAnyItem","finalSections","actionListRef","className","hasMultipleSections","length","Element","elementRole","undefined","elementTabIndex","sectionMarkup","map","section","index","createElement","key","title","firstSection","handleFocusPreviousItem","evt","preventDefault","current","target","contains","handleFocusNextItem","listeners","Fragment","keyEvent","keyCode","DownArrow","handler","UpArrow","ref","role","tabIndex"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\nimport { wrapFocusPreviousFocusableMenuItem, wrapFocusNextFocusableMenuItem } from '../../utilities/focus.js';\nimport { Key } from '../../types.js';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './ActionList.scss.js';\nimport { Section } from './components/Section/Section.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\n\nfunction ActionList({\n  items,\n  sections = [],\n  actionRole,\n  onActionAnyItem\n}) {\n  let finalSections = [];\n  const actionListRef = useRef(null);\n\n  if (items) {\n    finalSections = [{\n      items\n    }, ...sections];\n  } else if (sections) {\n    finalSections = sections;\n  }\n\n  const className = classNames(styles.ActionList);\n  const hasMultipleSections = finalSections.length > 1;\n  const Element = hasMultipleSections ? 'ul' : 'div';\n  const elementRole = hasMultipleSections && actionRole === 'menuitem' ? 'menu' : undefined;\n  const elementTabIndex = hasMultipleSections && actionRole === 'menuitem' ? -1 : undefined;\n  const sectionMarkup = finalSections.map((section, index) => {\n    return section.items.length > 0 ? /*#__PURE__*/React.createElement(Section, {\n      key: section.title || index,\n      firstSection: index === 0,\n      section: section,\n      hasMultipleSections: hasMultipleSections,\n      actionRole: actionRole,\n      onActionAnyItem: onActionAnyItem\n    }) : null;\n  });\n\n  const handleFocusPreviousItem = evt => {\n    evt.preventDefault();\n\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusPreviousFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n\n  const handleFocusNextItem = evt => {\n    evt.preventDefault();\n\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusNextFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n\n  const listeners = actionRole === 'menuitem' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.DownArrow,\n    handler: handleFocusNextItem\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.UpArrow,\n    handler: handleFocusPreviousItem\n  })) : null;\n  return /*#__PURE__*/React.createElement(Element, {\n    ref: actionListRef,\n    className: className,\n    role: elementRole,\n    tabIndex: elementTabIndex\n  }, listeners, sectionMarkup);\n}\n\nexport { ActionList };\n"]},"metadata":{},"sourceType":"module"}