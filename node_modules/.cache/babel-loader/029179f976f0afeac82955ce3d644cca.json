{"ast":null,"code":"import React, { forwardRef, useContext, useRef, useState, useImperativeHandle } from 'react';\nimport { CancelSmallMinor, CircleInformationMajor, DiamondAlertMajor, CircleAlertMajor, CircleTickMajor } from '@shopify/polaris-icons';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { BannerContext } from '../../utilities/banner-context.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport styles from './Banner.scss.js';\nimport { unstyledButtonFrom } from '../UnstyledButton/utils.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Heading } from '../Heading/Heading.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { ButtonGroup } from '../ButtonGroup/ButtonGroup.js';\nimport { Button } from '../Button/Button.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { UnstyledLink } from '../UnstyledLink/UnstyledLink.js';\nimport { UnstyledButton } from '../UnstyledButton/UnstyledButton.js';\nconst Banner = /*#__PURE__*/forwardRef(function Banner(_ref, bannerRef) {\n  let {\n    icon,\n    action,\n    secondaryAction,\n    title,\n    children,\n    status,\n    onDismiss,\n    stopAnnouncements\n  } = _ref;\n  const withinContentContainer = useContext(WithinContentContext);\n  const id = useUniqueId('Banner');\n  const i18n = useI18n();\n  const {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  } = useBannerFocus(bannerRef);\n  const {\n    defaultIcon,\n    iconColor,\n    ariaRoleType\n  } = useBannerAttributes(status);\n  const iconName = icon || defaultIcon;\n  const className = classNames(styles.Banner, status && styles[variationName('status', status)], onDismiss && styles.hasDismiss, shouldShowFocus && styles.keyFocused, withinContentContainer ? styles.withinContentContainer : styles.withinPage);\n  let headingMarkup = null;\n  let headingID;\n\n  if (title) {\n    headingID = `${id}Heading`;\n    headingMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Heading,\n      id: headingID\n    }, /*#__PURE__*/React.createElement(Heading, {\n      element: \"p\"\n    }, title));\n  }\n\n  const spinnerMarkup = action !== null && action !== void 0 && action.loading ? /*#__PURE__*/React.createElement(\"button\", {\n    disabled: true,\n    \"aria-busy\": true,\n    className: classNames(styles.Button, styles.loading)\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Spinner\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    size: \"small\",\n    accessibilityLabel: i18n.translate('Polaris.Button.spinnerAccessibilityLabel')\n  })), action.content) : null;\n  const primaryActionMarkup = action ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.PrimaryAction\n  }, action.loading ? spinnerMarkup : unstyledButtonFrom(action, {\n    className: styles.Button\n  })) : null;\n  const secondaryActionMarkup = secondaryAction ? /*#__PURE__*/React.createElement(SecondaryActionFrom, {\n    action: secondaryAction\n  }) : null;\n  const actionMarkup = action || secondaryAction ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Actions\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, primaryActionMarkup, secondaryActionMarkup)) : null;\n  let contentMarkup = null;\n  let contentID;\n\n  if (children || actionMarkup) {\n    contentID = `${id}Content`;\n    contentMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Content,\n      id: contentID\n    }, children, actionMarkup);\n  }\n\n  const dismissButton = onDismiss && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Dismiss\n  }, /*#__PURE__*/React.createElement(Button, {\n    plain: true,\n    icon: CancelSmallMinor,\n    onClick: onDismiss,\n    accessibilityLabel: \"Dismiss notification\"\n  }));\n  return /*#__PURE__*/React.createElement(BannerContext.Provider, {\n    value: true\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: className // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    ,\n    tabIndex: 0,\n    ref: wrapperRef,\n    role: ariaRoleType,\n    \"aria-live\": stopAnnouncements ? 'off' : 'polite',\n    onMouseUp: handleMouseUp,\n    onKeyUp: handleKeyUp,\n    onBlur: handleBlur,\n    \"aria-labelledby\": headingID,\n    \"aria-describedby\": contentID\n  }, dismissButton, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Ribbon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: iconName,\n    color: iconColor\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ContentWrapper\n  }, headingMarkup, contentMarkup)));\n});\n\nfunction SecondaryActionFrom(_ref2) {\n  let {\n    action\n  } = _ref2;\n\n  if (action.url) {\n    return /*#__PURE__*/React.createElement(UnstyledLink, {\n      className: styles.SecondaryAction,\n      url: action.url,\n      external: action.external\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.Text\n    }, action.content));\n  }\n\n  return /*#__PURE__*/React.createElement(UnstyledButton, {\n    className: styles.SecondaryAction,\n    onClick: action.onAction\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Text\n  }, action.content));\n}\n\nfunction useBannerAttributes(status) {\n  switch (status) {\n    case 'success':\n      return {\n        defaultIcon: CircleTickMajor,\n        iconColor: 'success',\n        ariaRoleType: 'status'\n      };\n\n    case 'info':\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: 'highlight',\n        ariaRoleType: 'status'\n      };\n\n    case 'warning':\n      return {\n        defaultIcon: CircleAlertMajor,\n        iconColor: 'warning',\n        ariaRoleType: 'alert'\n      };\n\n    case 'critical':\n      return {\n        defaultIcon: DiamondAlertMajor,\n        iconColor: 'critical',\n        ariaRoleType: 'alert'\n      };\n\n    default:\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: 'base',\n        ariaRoleType: 'status'\n      };\n  }\n}\n\nfunction useBannerFocus(bannerRef) {\n  const wrapperRef = useRef(null);\n  const [shouldShowFocus, setShouldShowFocus] = useState(false);\n  useImperativeHandle(bannerRef, () => ({\n    focus: () => {\n      var _wrapperRef$current;\n\n      (_wrapperRef$current = wrapperRef.current) === null || _wrapperRef$current === void 0 ? void 0 : _wrapperRef$current.focus();\n      setShouldShowFocus(true);\n    }\n  }), []);\n\n  const handleKeyUp = event => {\n    if (event.target === wrapperRef.current) {\n      setShouldShowFocus(true);\n    }\n  };\n\n  const handleBlur = () => setShouldShowFocus(false);\n\n  const handleMouseUp = event => {\n    event.currentTarget.blur();\n    setShouldShowFocus(false);\n  };\n\n  return {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  };\n}\n\nexport { Banner };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/Banner/Banner.js"],"names":["React","forwardRef","useContext","useRef","useState","useImperativeHandle","CancelSmallMinor","CircleInformationMajor","DiamondAlertMajor","CircleAlertMajor","CircleTickMajor","classNames","variationName","BannerContext","WithinContentContext","styles","unstyledButtonFrom","useUniqueId","useI18n","Heading","Spinner","ButtonGroup","Button","Icon","UnstyledLink","UnstyledButton","Banner","bannerRef","icon","action","secondaryAction","title","children","status","onDismiss","stopAnnouncements","withinContentContainer","id","i18n","wrapperRef","handleKeyUp","handleBlur","handleMouseUp","shouldShowFocus","useBannerFocus","defaultIcon","iconColor","ariaRoleType","useBannerAttributes","iconName","className","hasDismiss","keyFocused","withinPage","headingMarkup","headingID","createElement","element","spinnerMarkup","loading","disabled","size","accessibilityLabel","translate","content","primaryActionMarkup","PrimaryAction","secondaryActionMarkup","SecondaryActionFrom","actionMarkup","Actions","contentMarkup","contentID","Content","dismissButton","Dismiss","plain","onClick","Provider","value","tabIndex","ref","role","onMouseUp","onKeyUp","onBlur","Ribbon","source","color","ContentWrapper","url","SecondaryAction","external","Text","onAction","setShouldShowFocus","focus","_wrapperRef$current","current","event","target","currentTarget","blur"],"mappings":"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","sourcesContent":["import React, { forwardRef, useContext, useRef, useState, useImperativeHandle } from 'react';\nimport { CancelSmallMinor, CircleInformationMajor, DiamondAlertMajor, CircleAlertMajor, CircleTickMajor } from '@shopify/polaris-icons';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { BannerContext } from '../../utilities/banner-context.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport styles from './Banner.scss.js';\nimport { unstyledButtonFrom } from '../UnstyledButton/utils.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Heading } from '../Heading/Heading.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { ButtonGroup } from '../ButtonGroup/ButtonGroup.js';\nimport { Button } from '../Button/Button.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { UnstyledLink } from '../UnstyledLink/UnstyledLink.js';\nimport { UnstyledButton } from '../UnstyledButton/UnstyledButton.js';\n\nconst Banner = /*#__PURE__*/forwardRef(function Banner({\n  icon,\n  action,\n  secondaryAction,\n  title,\n  children,\n  status,\n  onDismiss,\n  stopAnnouncements\n}, bannerRef) {\n  const withinContentContainer = useContext(WithinContentContext);\n  const id = useUniqueId('Banner');\n  const i18n = useI18n();\n  const {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  } = useBannerFocus(bannerRef);\n  const {\n    defaultIcon,\n    iconColor,\n    ariaRoleType\n  } = useBannerAttributes(status);\n  const iconName = icon || defaultIcon;\n  const className = classNames(styles.Banner, status && styles[variationName('status', status)], onDismiss && styles.hasDismiss, shouldShowFocus && styles.keyFocused, withinContentContainer ? styles.withinContentContainer : styles.withinPage);\n  let headingMarkup = null;\n  let headingID;\n\n  if (title) {\n    headingID = `${id}Heading`;\n    headingMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Heading,\n      id: headingID\n    }, /*#__PURE__*/React.createElement(Heading, {\n      element: \"p\"\n    }, title));\n  }\n\n  const spinnerMarkup = action !== null && action !== void 0 && action.loading ? /*#__PURE__*/React.createElement(\"button\", {\n    disabled: true,\n    \"aria-busy\": true,\n    className: classNames(styles.Button, styles.loading)\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Spinner\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    size: \"small\",\n    accessibilityLabel: i18n.translate('Polaris.Button.spinnerAccessibilityLabel')\n  })), action.content) : null;\n  const primaryActionMarkup = action ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.PrimaryAction\n  }, action.loading ? spinnerMarkup : unstyledButtonFrom(action, {\n    className: styles.Button\n  })) : null;\n  const secondaryActionMarkup = secondaryAction ? /*#__PURE__*/React.createElement(SecondaryActionFrom, {\n    action: secondaryAction\n  }) : null;\n  const actionMarkup = action || secondaryAction ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Actions\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, primaryActionMarkup, secondaryActionMarkup)) : null;\n  let contentMarkup = null;\n  let contentID;\n\n  if (children || actionMarkup) {\n    contentID = `${id}Content`;\n    contentMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Content,\n      id: contentID\n    }, children, actionMarkup);\n  }\n\n  const dismissButton = onDismiss && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Dismiss\n  }, /*#__PURE__*/React.createElement(Button, {\n    plain: true,\n    icon: CancelSmallMinor,\n    onClick: onDismiss,\n    accessibilityLabel: \"Dismiss notification\"\n  }));\n  return /*#__PURE__*/React.createElement(BannerContext.Provider, {\n    value: true\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: className // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    ,\n    tabIndex: 0,\n    ref: wrapperRef,\n    role: ariaRoleType,\n    \"aria-live\": stopAnnouncements ? 'off' : 'polite',\n    onMouseUp: handleMouseUp,\n    onKeyUp: handleKeyUp,\n    onBlur: handleBlur,\n    \"aria-labelledby\": headingID,\n    \"aria-describedby\": contentID\n  }, dismissButton, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Ribbon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: iconName,\n    color: iconColor\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ContentWrapper\n  }, headingMarkup, contentMarkup)));\n});\n\nfunction SecondaryActionFrom({\n  action\n}) {\n  if (action.url) {\n    return /*#__PURE__*/React.createElement(UnstyledLink, {\n      className: styles.SecondaryAction,\n      url: action.url,\n      external: action.external\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.Text\n    }, action.content));\n  }\n\n  return /*#__PURE__*/React.createElement(UnstyledButton, {\n    className: styles.SecondaryAction,\n    onClick: action.onAction\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Text\n  }, action.content));\n}\n\nfunction useBannerAttributes(status) {\n  switch (status) {\n    case 'success':\n      return {\n        defaultIcon: CircleTickMajor,\n        iconColor: 'success',\n        ariaRoleType: 'status'\n      };\n\n    case 'info':\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: 'highlight',\n        ariaRoleType: 'status'\n      };\n\n    case 'warning':\n      return {\n        defaultIcon: CircleAlertMajor,\n        iconColor: 'warning',\n        ariaRoleType: 'alert'\n      };\n\n    case 'critical':\n      return {\n        defaultIcon: DiamondAlertMajor,\n        iconColor: 'critical',\n        ariaRoleType: 'alert'\n      };\n\n    default:\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: 'base',\n        ariaRoleType: 'status'\n      };\n  }\n}\n\nfunction useBannerFocus(bannerRef) {\n  const wrapperRef = useRef(null);\n  const [shouldShowFocus, setShouldShowFocus] = useState(false);\n  useImperativeHandle(bannerRef, () => ({\n    focus: () => {\n      var _wrapperRef$current;\n\n      (_wrapperRef$current = wrapperRef.current) === null || _wrapperRef$current === void 0 ? void 0 : _wrapperRef$current.focus();\n      setShouldShowFocus(true);\n    }\n  }), []);\n\n  const handleKeyUp = event => {\n    if (event.target === wrapperRef.current) {\n      setShouldShowFocus(true);\n    }\n  };\n\n  const handleBlur = () => setShouldShowFocus(false);\n\n  const handleMouseUp = event => {\n    event.currentTarget.blur();\n    setShouldShowFocus(false);\n  };\n\n  return {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  };\n}\n\nexport { Banner };\n"]},"metadata":{},"sourceType":"module"}