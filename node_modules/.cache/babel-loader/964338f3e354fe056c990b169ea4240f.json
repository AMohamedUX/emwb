{"ast":null,"code":"import _toConsumableArray from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport React, { PureComponent, createRef } from 'react';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport { classNames } from '../../utilities/css.js';\nimport { headerCell } from '../shared.js';\nimport { measureColumn, getPrevAndCurrentColumns } from './utilities.js';\nimport styles from './DataTable.scss.js';\nimport { Cell } from './components/Cell/Cell.js';\nimport { Navigation } from './components/Navigation/Navigation.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { EventListener } from '../EventListener/EventListener.js';\n\nvar DataTableInner = /*#__PURE__*/function (_PureComponent) {\n  _inherits(DataTableInner, _PureComponent);\n\n  var _super = _createSuper(DataTableInner);\n\n  function DataTableInner() {\n    var _this;\n\n    _classCallCheck(this, DataTableInner);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      condensed: false,\n      columnVisibilityData: [],\n      isScrolledFarthestLeft: true,\n      isScrolledFarthestRight: false\n    };\n    _this.dataTable = /*#__PURE__*/createRef();\n    _this.scrollContainer = /*#__PURE__*/createRef();\n    _this.table = /*#__PURE__*/createRef();\n    _this.handleResize = debounce(function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          table = _assertThisInitialize.table.current,\n          scrollContainer = _assertThisInitialize.scrollContainer.current;\n\n      var condensed = false;\n\n      if (table && scrollContainer) {\n        condensed = table.scrollWidth > scrollContainer.clientWidth;\n      }\n\n      _this.setState(_objectSpread({\n        condensed: condensed\n      }, _this.calculateColumnVisibilityData(condensed)));\n    });\n\n    _this.calculateColumnVisibilityData = function (condensed) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          table = _assertThisInitialize2.table.current,\n          scrollContainer = _assertThisInitialize2.scrollContainer.current,\n          dataTable = _assertThisInitialize2.dataTable.current;\n\n      if (condensed && table && scrollContainer && dataTable) {\n        var headerCells = table.querySelectorAll(headerCell.selector);\n\n        if (headerCells.length > 0) {\n          var firstVisibleColumnIndex = headerCells.length - 1;\n          var tableLeftVisibleEdge = scrollContainer.scrollLeft;\n          var tableRightVisibleEdge = scrollContainer.scrollLeft + dataTable.offsetWidth;\n          var tableData = {\n            firstVisibleColumnIndex: firstVisibleColumnIndex,\n            tableLeftVisibleEdge: tableLeftVisibleEdge,\n            tableRightVisibleEdge: tableRightVisibleEdge\n          };\n\n          var columnVisibilityData = _toConsumableArray(headerCells).map(measureColumn(tableData));\n\n          var lastColumn = columnVisibilityData[columnVisibilityData.length - 1];\n          return _objectSpread(_objectSpread({\n            columnVisibilityData: columnVisibilityData\n          }, getPrevAndCurrentColumns(tableData, columnVisibilityData)), {}, {\n            isScrolledFarthestLeft: tableLeftVisibleEdge === 0,\n            isScrolledFarthestRight: lastColumn.rightEdge <= tableRightVisibleEdge\n          });\n        }\n      }\n\n      return {\n        columnVisibilityData: [],\n        previousColumn: undefined,\n        currentColumn: undefined\n      };\n    };\n\n    _this.scrollListener = function () {\n      _this.setState(function (prevState) {\n        return _objectSpread({}, _this.calculateColumnVisibilityData(prevState.condensed));\n      });\n    };\n\n    _this.navigateTable = function (direction) {\n      var _this$state = _this.state,\n          currentColumn = _this$state.currentColumn,\n          previousColumn = _this$state.previousColumn;\n      var scrollContainer = _this.scrollContainer.current;\n\n      var handleScroll = function handleScroll() {\n        if (!currentColumn || !previousColumn) {\n          return;\n        }\n\n        if (scrollContainer) {\n          scrollContainer.scrollLeft = direction === 'right' ? currentColumn.rightEdge : previousColumn.leftEdge;\n          requestAnimationFrame(function () {\n            _this.setState(function (prevState) {\n              return _objectSpread({}, _this.calculateColumnVisibilityData(prevState.condensed));\n            });\n          });\n        }\n      };\n\n      return handleScroll;\n    };\n\n    _this.renderHeadings = function (heading, headingIndex) {\n      var _this$props = _this.props,\n          sortable = _this$props.sortable,\n          _this$props$truncate = _this$props.truncate,\n          truncate = _this$props$truncate === void 0 ? false : _this$props$truncate,\n          columnContentTypes = _this$props.columnContentTypes,\n          defaultSortDirection = _this$props.defaultSortDirection,\n          _this$props$initialSo = _this$props.initialSortColumnIndex,\n          initialSortColumnIndex = _this$props$initialSo === void 0 ? 0 : _this$props$initialSo,\n          verticalAlign = _this$props.verticalAlign;\n      var _this$state2 = _this.state,\n          _this$state2$sortDire = _this$state2.sortDirection,\n          sortDirection = _this$state2$sortDire === void 0 ? defaultSortDirection : _this$state2$sortDire,\n          _this$state2$sortedCo = _this$state2.sortedColumnIndex,\n          sortedColumnIndex = _this$state2$sortedCo === void 0 ? initialSortColumnIndex : _this$state2$sortedCo;\n      var sortableHeadingProps;\n      var id = \"heading-cell-\".concat(headingIndex);\n\n      if (sortable) {\n        var isSortable = sortable[headingIndex];\n        var isSorted = isSortable && sortedColumnIndex === headingIndex;\n        var direction = isSorted ? sortDirection : 'none';\n        sortableHeadingProps = {\n          defaultSortDirection: defaultSortDirection,\n          sorted: isSorted,\n          sortable: isSortable,\n          sortDirection: direction,\n          onSort: _this.defaultOnSort(headingIndex)\n        };\n      }\n\n      return /*#__PURE__*/React.createElement(Cell, Object.assign({\n        header: true,\n        key: id,\n        content: heading,\n        contentType: columnContentTypes[headingIndex],\n        firstColumn: headingIndex === 0,\n        truncate: truncate\n      }, sortableHeadingProps, {\n        verticalAlign: verticalAlign\n      }));\n    };\n\n    _this.totalsRowHeading = function () {\n      var _this$props2 = _this.props,\n          i18n = _this$props2.i18n,\n          totals = _this$props2.totals,\n          totalsName = _this$props2.totalsName;\n      var totalsLabel = totalsName ? totalsName : {\n        singular: i18n.translate('Polaris.DataTable.totalRowHeading'),\n        plural: i18n.translate('Polaris.DataTable.totalsRowHeading')\n      };\n      return totals && totals.filter(function (total) {\n        return total !== '';\n      }).length > 1 ? totalsLabel.plural : totalsLabel.singular;\n    };\n\n    _this.renderTotals = function (total, index) {\n      var id = \"totals-cell-\".concat(index);\n      var _this$props3 = _this.props,\n          _this$props3$truncate = _this$props3.truncate,\n          truncate = _this$props3$truncate === void 0 ? false : _this$props3$truncate,\n          verticalAlign = _this$props3.verticalAlign;\n      var content;\n      var contentType;\n\n      if (index === 0) {\n        content = _this.totalsRowHeading();\n      }\n\n      if (total !== '' && index > 0) {\n        contentType = 'numeric';\n        content = total;\n      }\n\n      var totalInFooter = _this.props.showTotalsInFooter;\n      return /*#__PURE__*/React.createElement(Cell, {\n        total: true,\n        totalInFooter: totalInFooter,\n        firstColumn: index === 0,\n        key: id,\n        content: content,\n        contentType: contentType,\n        truncate: truncate,\n        verticalAlign: verticalAlign\n      });\n    };\n\n    _this.getColSpan = function (rowLength, headingsLength, contentTypesLength, cellIndex) {\n      var rowLen = rowLength ? rowLength : 1;\n      var colLen = headingsLength ? headingsLength : contentTypesLength;\n      var colSpan = Math.floor(colLen / rowLen);\n      var remainder = colLen % rowLen;\n      return cellIndex === 0 ? colSpan + remainder : colSpan;\n    };\n\n    _this.defaultRenderRow = function (row, index) {\n      var _this$props4 = _this.props,\n          columnContentTypes = _this$props4.columnContentTypes,\n          _this$props4$truncate = _this$props4.truncate,\n          truncate = _this$props4$truncate === void 0 ? false : _this$props4$truncate,\n          verticalAlign = _this$props4.verticalAlign,\n          _this$props4$hoverabl = _this$props4.hoverable,\n          hoverable = _this$props4$hoverabl === void 0 ? true : _this$props4$hoverabl,\n          headings = _this$props4.headings;\n      var className = classNames(styles.TableRow, hoverable && styles.hoverable);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: \"row-\".concat(index),\n        className: className\n      }, row.map(function (content, cellIndex) {\n        var id = \"cell-\".concat(cellIndex, \"-row-\").concat(index);\n\n        var colSpan = _this.getColSpan(row.length, headings.length, columnContentTypes.length, cellIndex);\n\n        return /*#__PURE__*/React.createElement(Cell, {\n          key: id,\n          content: content,\n          contentType: columnContentTypes[cellIndex],\n          firstColumn: cellIndex === 0,\n          truncate: truncate,\n          verticalAlign: verticalAlign,\n          colSpan: colSpan\n        });\n      }));\n    };\n\n    _this.defaultOnSort = function (headingIndex) {\n      var _this$props5 = _this.props,\n          onSort = _this$props5.onSort,\n          _this$props5$defaultS = _this$props5.defaultSortDirection,\n          defaultSortDirection = _this$props5$defaultS === void 0 ? 'ascending' : _this$props5$defaultS,\n          initialSortColumnIndex = _this$props5.initialSortColumnIndex;\n      var _this$state3 = _this.state,\n          _this$state3$sortDire = _this$state3.sortDirection,\n          sortDirection = _this$state3$sortDire === void 0 ? defaultSortDirection : _this$state3$sortDire,\n          _this$state3$sortedCo = _this$state3.sortedColumnIndex,\n          sortedColumnIndex = _this$state3$sortedCo === void 0 ? initialSortColumnIndex : _this$state3$sortedCo;\n      var newSortDirection = defaultSortDirection;\n\n      if (sortedColumnIndex === headingIndex) {\n        newSortDirection = sortDirection === 'ascending' ? 'descending' : 'ascending';\n      }\n\n      var handleSort = function handleSort() {\n        _this.setState({\n          sortDirection: newSortDirection,\n          sortedColumnIndex: headingIndex\n        }, function () {\n          if (onSort) {\n            onSort(headingIndex, newSortDirection);\n          }\n        });\n      };\n\n      return handleSort;\n    };\n\n    return _this;\n  }\n\n  _createClass(DataTableInner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // We need to defer the calculation in development so the styles have time to be injected.\n      if (process.env.NODE_ENV === 'development') {\n        setTimeout(function () {\n          _this2.handleResize();\n        }, 10);\n      } else {\n        this.handleResize();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (isEqual(prevProps, this.props)) {\n        return;\n      }\n\n      this.handleResize();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.handleResize.cancel();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props6 = this.props,\n          headings = _this$props6.headings,\n          totals = _this$props6.totals,\n          showTotalsInFooter = _this$props6.showTotalsInFooter,\n          rows = _this$props6.rows,\n          footerContent = _this$props6.footerContent,\n          _this$props6$hideScro = _this$props6.hideScrollIndicator,\n          hideScrollIndicator = _this$props6$hideScro === void 0 ? false : _this$props6$hideScro,\n          _this$props6$increase = _this$props6.increasedTableDensity,\n          increasedTableDensity = _this$props6$increase === void 0 ? false : _this$props6$increase,\n          _this$props6$hasZebra = _this$props6.hasZebraStripingOnData,\n          hasZebraStripingOnData = _this$props6$hasZebra === void 0 ? false : _this$props6$hasZebra;\n      var _this$state4 = this.state,\n          condensed = _this$state4.condensed,\n          columnVisibilityData = _this$state4.columnVisibilityData,\n          isScrolledFarthestLeft = _this$state4.isScrolledFarthestLeft,\n          isScrolledFarthestRight = _this$state4.isScrolledFarthestRight;\n      var rowCountIsEven = rows.length % 2 === 0;\n      var className = classNames(styles.DataTable, condensed && styles.condensed, totals && styles.ShowTotals, showTotalsInFooter && styles.ShowTotalsInFooter, hasZebraStripingOnData && styles.ZebraStripingOnData, hasZebraStripingOnData && rowCountIsEven && styles.RowCountIsEven);\n      var wrapperClassName = classNames(styles.TableWrapper, condensed && styles.condensed, increasedTableDensity && styles.IncreasedTableDensity);\n      var headingMarkup = /*#__PURE__*/React.createElement(\"tr\", null, headings.map(this.renderHeadings));\n      var totalsMarkup = totals ? /*#__PURE__*/React.createElement(\"tr\", null, totals.map(this.renderTotals)) : null;\n      var bodyMarkup = rows.map(this.defaultRenderRow);\n      var footerMarkup = footerContent ? /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.Footer\n      }, footerContent) : null;\n      var headerTotalsMarkup = !showTotalsInFooter ? totalsMarkup : null;\n      var footerTotalsMarkup = showTotalsInFooter ? /*#__PURE__*/React.createElement(\"tfoot\", null, totalsMarkup) : null;\n      var navigationMarkup = hideScrollIndicator ? null : /*#__PURE__*/React.createElement(Navigation, {\n        columnVisibilityData: columnVisibilityData,\n        isScrolledFarthestLeft: isScrolledFarthestLeft,\n        isScrolledFarthestRight: isScrolledFarthestRight,\n        navigateTableLeft: this.navigateTable('left'),\n        navigateTableRight: this.navigateTable('right')\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: wrapperClassName\n      }, navigationMarkup, /*#__PURE__*/React.createElement(\"div\", {\n        className: className,\n        ref: this.dataTable\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.ScrollContainer,\n        ref: this.scrollContainer\n      }, /*#__PURE__*/React.createElement(EventListener, {\n        event: \"resize\",\n        handler: this.handleResize\n      }), /*#__PURE__*/React.createElement(EventListener, {\n        capture: true,\n        event: \"scroll\",\n        handler: this.scrollListener\n      }), /*#__PURE__*/React.createElement(\"table\", {\n        className: styles.Table,\n        ref: this.table\n      }, /*#__PURE__*/React.createElement(\"thead\", null, headingMarkup, headerTotalsMarkup), /*#__PURE__*/React.createElement(\"tbody\", null, bodyMarkup), footerTotalsMarkup)), footerMarkup));\n    }\n  }]);\n\n  return DataTableInner;\n}(PureComponent);\n\nfunction DataTable(props) {\n  var i18n = useI18n();\n  return /*#__PURE__*/React.createElement(DataTableInner, Object.assign({}, props, {\n    i18n: i18n\n  }));\n}\n\nexport { DataTable };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/DataTable/DataTable.js"],"names":["React","PureComponent","createRef","debounce","isEqual","classNames","headerCell","measureColumn","getPrevAndCurrentColumns","styles","Cell","Navigation","useI18n","EventListener","DataTableInner","args","state","condensed","columnVisibilityData","isScrolledFarthestLeft","isScrolledFarthestRight","dataTable","scrollContainer","table","handleResize","current","scrollWidth","clientWidth","setState","calculateColumnVisibilityData","headerCells","querySelectorAll","selector","length","firstVisibleColumnIndex","tableLeftVisibleEdge","scrollLeft","tableRightVisibleEdge","offsetWidth","tableData","map","lastColumn","rightEdge","previousColumn","undefined","currentColumn","scrollListener","prevState","navigateTable","direction","handleScroll","leftEdge","requestAnimationFrame","renderHeadings","heading","headingIndex","props","sortable","truncate","columnContentTypes","defaultSortDirection","initialSortColumnIndex","verticalAlign","sortDirection","sortedColumnIndex","sortableHeadingProps","id","isSortable","isSorted","sorted","onSort","defaultOnSort","createElement","Object","assign","header","key","content","contentType","firstColumn","totalsRowHeading","i18n","totals","totalsName","totalsLabel","singular","translate","plural","filter","total","renderTotals","index","totalInFooter","showTotalsInFooter","getColSpan","rowLength","headingsLength","contentTypesLength","cellIndex","rowLen","colLen","colSpan","Math","floor","remainder","defaultRenderRow","row","hoverable","headings","className","TableRow","newSortDirection","handleSort","process","env","NODE_ENV","setTimeout","prevProps","cancel","rows","footerContent","hideScrollIndicator","increasedTableDensity","hasZebraStripingOnData","rowCountIsEven","DataTable","ShowTotals","ShowTotalsInFooter","ZebraStripingOnData","RowCountIsEven","wrapperClassName","TableWrapper","IncreasedTableDensity","headingMarkup","totalsMarkup","bodyMarkup","footerMarkup","Footer","headerTotalsMarkup","footerTotalsMarkup","navigationMarkup","navigateTableLeft","navigateTableRight","ref","ScrollContainer","event","handler","capture","Table"],"mappings":"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","sourcesContent":["import React, { PureComponent, createRef } from 'react';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport { classNames } from '../../utilities/css.js';\nimport { headerCell } from '../shared.js';\nimport { measureColumn, getPrevAndCurrentColumns } from './utilities.js';\nimport styles from './DataTable.scss.js';\nimport { Cell } from './components/Cell/Cell.js';\nimport { Navigation } from './components/Navigation/Navigation.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { EventListener } from '../EventListener/EventListener.js';\n\nclass DataTableInner extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      condensed: false,\n      columnVisibilityData: [],\n      isScrolledFarthestLeft: true,\n      isScrolledFarthestRight: false\n    };\n    this.dataTable = /*#__PURE__*/createRef();\n    this.scrollContainer = /*#__PURE__*/createRef();\n    this.table = /*#__PURE__*/createRef();\n    this.handleResize = debounce(() => {\n      const {\n        table: {\n          current: table\n        },\n        scrollContainer: {\n          current: scrollContainer\n        }\n      } = this;\n      let condensed = false;\n\n      if (table && scrollContainer) {\n        condensed = table.scrollWidth > scrollContainer.clientWidth;\n      }\n\n      this.setState({\n        condensed,\n        ...this.calculateColumnVisibilityData(condensed)\n      });\n    });\n\n    this.calculateColumnVisibilityData = condensed => {\n      const {\n        table: {\n          current: table\n        },\n        scrollContainer: {\n          current: scrollContainer\n        },\n        dataTable: {\n          current: dataTable\n        }\n      } = this;\n\n      if (condensed && table && scrollContainer && dataTable) {\n        const headerCells = table.querySelectorAll(headerCell.selector);\n\n        if (headerCells.length > 0) {\n          const firstVisibleColumnIndex = headerCells.length - 1;\n          const tableLeftVisibleEdge = scrollContainer.scrollLeft;\n          const tableRightVisibleEdge = scrollContainer.scrollLeft + dataTable.offsetWidth;\n          const tableData = {\n            firstVisibleColumnIndex,\n            tableLeftVisibleEdge,\n            tableRightVisibleEdge\n          };\n          const columnVisibilityData = [...headerCells].map(measureColumn(tableData));\n          const lastColumn = columnVisibilityData[columnVisibilityData.length - 1];\n          return {\n            columnVisibilityData,\n            ...getPrevAndCurrentColumns(tableData, columnVisibilityData),\n            isScrolledFarthestLeft: tableLeftVisibleEdge === 0,\n            isScrolledFarthestRight: lastColumn.rightEdge <= tableRightVisibleEdge\n          };\n        }\n      }\n\n      return {\n        columnVisibilityData: [],\n        previousColumn: undefined,\n        currentColumn: undefined\n      };\n    };\n\n    this.scrollListener = () => {\n      this.setState(prevState => ({ ...this.calculateColumnVisibilityData(prevState.condensed)\n      }));\n    };\n\n    this.navigateTable = direction => {\n      const {\n        currentColumn,\n        previousColumn\n      } = this.state;\n      const {\n        current: scrollContainer\n      } = this.scrollContainer;\n\n      const handleScroll = () => {\n        if (!currentColumn || !previousColumn) {\n          return;\n        }\n\n        if (scrollContainer) {\n          scrollContainer.scrollLeft = direction === 'right' ? currentColumn.rightEdge : previousColumn.leftEdge;\n          requestAnimationFrame(() => {\n            this.setState(prevState => ({ ...this.calculateColumnVisibilityData(prevState.condensed)\n            }));\n          });\n        }\n      };\n\n      return handleScroll;\n    };\n\n    this.renderHeadings = (heading, headingIndex) => {\n      const {\n        sortable,\n        truncate = false,\n        columnContentTypes,\n        defaultSortDirection,\n        initialSortColumnIndex = 0,\n        verticalAlign\n      } = this.props;\n      const {\n        sortDirection = defaultSortDirection,\n        sortedColumnIndex = initialSortColumnIndex\n      } = this.state;\n      let sortableHeadingProps;\n      const id = `heading-cell-${headingIndex}`;\n\n      if (sortable) {\n        const isSortable = sortable[headingIndex];\n        const isSorted = isSortable && sortedColumnIndex === headingIndex;\n        const direction = isSorted ? sortDirection : 'none';\n        sortableHeadingProps = {\n          defaultSortDirection,\n          sorted: isSorted,\n          sortable: isSortable,\n          sortDirection: direction,\n          onSort: this.defaultOnSort(headingIndex)\n        };\n      }\n\n      return /*#__PURE__*/React.createElement(Cell, Object.assign({\n        header: true,\n        key: id,\n        content: heading,\n        contentType: columnContentTypes[headingIndex],\n        firstColumn: headingIndex === 0,\n        truncate: truncate\n      }, sortableHeadingProps, {\n        verticalAlign: verticalAlign\n      }));\n    };\n\n    this.totalsRowHeading = () => {\n      const {\n        i18n,\n        totals,\n        totalsName\n      } = this.props;\n      const totalsLabel = totalsName ? totalsName : {\n        singular: i18n.translate('Polaris.DataTable.totalRowHeading'),\n        plural: i18n.translate('Polaris.DataTable.totalsRowHeading')\n      };\n      return totals && totals.filter(total => total !== '').length > 1 ? totalsLabel.plural : totalsLabel.singular;\n    };\n\n    this.renderTotals = (total, index) => {\n      const id = `totals-cell-${index}`;\n      const {\n        truncate = false,\n        verticalAlign\n      } = this.props;\n      let content;\n      let contentType;\n\n      if (index === 0) {\n        content = this.totalsRowHeading();\n      }\n\n      if (total !== '' && index > 0) {\n        contentType = 'numeric';\n        content = total;\n      }\n\n      const totalInFooter = this.props.showTotalsInFooter;\n      return /*#__PURE__*/React.createElement(Cell, {\n        total: true,\n        totalInFooter: totalInFooter,\n        firstColumn: index === 0,\n        key: id,\n        content: content,\n        contentType: contentType,\n        truncate: truncate,\n        verticalAlign: verticalAlign\n      });\n    };\n\n    this.getColSpan = (rowLength, headingsLength, contentTypesLength, cellIndex) => {\n      const rowLen = rowLength ? rowLength : 1;\n      const colLen = headingsLength ? headingsLength : contentTypesLength;\n      const colSpan = Math.floor(colLen / rowLen);\n      const remainder = colLen % rowLen;\n      return cellIndex === 0 ? colSpan + remainder : colSpan;\n    };\n\n    this.defaultRenderRow = (row, index) => {\n      const {\n        columnContentTypes,\n        truncate = false,\n        verticalAlign,\n        hoverable = true,\n        headings\n      } = this.props;\n      const className = classNames(styles.TableRow, hoverable && styles.hoverable);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: `row-${index}`,\n        className: className\n      }, row.map((content, cellIndex) => {\n        const id = `cell-${cellIndex}-row-${index}`;\n        const colSpan = this.getColSpan(row.length, headings.length, columnContentTypes.length, cellIndex);\n        return /*#__PURE__*/React.createElement(Cell, {\n          key: id,\n          content: content,\n          contentType: columnContentTypes[cellIndex],\n          firstColumn: cellIndex === 0,\n          truncate: truncate,\n          verticalAlign: verticalAlign,\n          colSpan: colSpan\n        });\n      }));\n    };\n\n    this.defaultOnSort = headingIndex => {\n      const {\n        onSort,\n        defaultSortDirection = 'ascending',\n        initialSortColumnIndex\n      } = this.props;\n      const {\n        sortDirection = defaultSortDirection,\n        sortedColumnIndex = initialSortColumnIndex\n      } = this.state;\n      let newSortDirection = defaultSortDirection;\n\n      if (sortedColumnIndex === headingIndex) {\n        newSortDirection = sortDirection === 'ascending' ? 'descending' : 'ascending';\n      }\n\n      const handleSort = () => {\n        this.setState({\n          sortDirection: newSortDirection,\n          sortedColumnIndex: headingIndex\n        }, () => {\n          if (onSort) {\n            onSort(headingIndex, newSortDirection);\n          }\n        });\n      };\n\n      return handleSort;\n    };\n  }\n\n  componentDidMount() {\n    // We need to defer the calculation in development so the styles have time to be injected.\n    if (process.env.NODE_ENV === 'development') {\n      setTimeout(() => {\n        this.handleResize();\n      }, 10);\n    } else {\n      this.handleResize();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (isEqual(prevProps, this.props)) {\n      return;\n    }\n\n    this.handleResize();\n  }\n\n  componentWillUnmount() {\n    this.handleResize.cancel();\n  }\n\n  render() {\n    const {\n      headings,\n      totals,\n      showTotalsInFooter,\n      rows,\n      footerContent,\n      hideScrollIndicator = false,\n      increasedTableDensity = false,\n      hasZebraStripingOnData = false\n    } = this.props;\n    const {\n      condensed,\n      columnVisibilityData,\n      isScrolledFarthestLeft,\n      isScrolledFarthestRight\n    } = this.state;\n    const rowCountIsEven = rows.length % 2 === 0;\n    const className = classNames(styles.DataTable, condensed && styles.condensed, totals && styles.ShowTotals, showTotalsInFooter && styles.ShowTotalsInFooter, hasZebraStripingOnData && styles.ZebraStripingOnData, hasZebraStripingOnData && rowCountIsEven && styles.RowCountIsEven);\n    const wrapperClassName = classNames(styles.TableWrapper, condensed && styles.condensed, increasedTableDensity && styles.IncreasedTableDensity);\n    const headingMarkup = /*#__PURE__*/React.createElement(\"tr\", null, headings.map(this.renderHeadings));\n    const totalsMarkup = totals ? /*#__PURE__*/React.createElement(\"tr\", null, totals.map(this.renderTotals)) : null;\n    const bodyMarkup = rows.map(this.defaultRenderRow);\n    const footerMarkup = footerContent ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Footer\n    }, footerContent) : null;\n    const headerTotalsMarkup = !showTotalsInFooter ? totalsMarkup : null;\n    const footerTotalsMarkup = showTotalsInFooter ? /*#__PURE__*/React.createElement(\"tfoot\", null, totalsMarkup) : null;\n    const navigationMarkup = hideScrollIndicator ? null : /*#__PURE__*/React.createElement(Navigation, {\n      columnVisibilityData: columnVisibilityData,\n      isScrolledFarthestLeft: isScrolledFarthestLeft,\n      isScrolledFarthestRight: isScrolledFarthestRight,\n      navigateTableLeft: this.navigateTable('left'),\n      navigateTableRight: this.navigateTable('right')\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: wrapperClassName\n    }, navigationMarkup, /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      ref: this.dataTable\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ScrollContainer,\n      ref: this.scrollContainer\n    }, /*#__PURE__*/React.createElement(EventListener, {\n      event: \"resize\",\n      handler: this.handleResize\n    }), /*#__PURE__*/React.createElement(EventListener, {\n      capture: true,\n      event: \"scroll\",\n      handler: this.scrollListener\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: styles.Table,\n      ref: this.table\n    }, /*#__PURE__*/React.createElement(\"thead\", null, headingMarkup, headerTotalsMarkup), /*#__PURE__*/React.createElement(\"tbody\", null, bodyMarkup), footerTotalsMarkup)), footerMarkup));\n  }\n\n}\n\nfunction DataTable(props) {\n  const i18n = useI18n();\n  return /*#__PURE__*/React.createElement(DataTableInner, Object.assign({}, props, {\n    i18n: i18n\n  }));\n}\n\nexport { DataTable };\n"]},"metadata":{},"sourceType":"module"}