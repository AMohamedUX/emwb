{"ast":null,"code":"import _objectWithoutProperties from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _classCallCheck from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/ayubmohamed/emwb/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _excluded = [\"selectedItems\"],\n    _excluded2 = [\"children\", \"context\"],\n    _excluded3 = [\"selectedItems\"],\n    _excluded4 = [\"children\", \"context\"];\nimport React, { useContext, Component, createRef } from 'react';\nimport { HorizontalDotsMinor } from '@shopify/polaris-icons';\nimport isEqual from 'lodash/isEqual';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport styles from './ResourceItem.scss.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Checkbox } from '../Checkbox/Checkbox.js';\nimport { ButtonGroup } from '../ButtonGroup/ButtonGroup.js';\nimport { buttonsFrom } from '../Button/utils.js';\nimport { Popover } from '../Popover/Popover.js';\nimport { Button } from '../Button/Button.js';\nimport { ActionList } from '../ActionList/ActionList.js';\nimport { UnstyledLink } from '../UnstyledLink/UnstyledLink.js';\nimport { globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\nvar getUniqueCheckboxID = globalIdGeneratorFactory('ResourceListItemCheckbox');\nvar getUniqueOverlayID = globalIdGeneratorFactory('ResourceListItemOverlay');\n\nvar BaseResourceItem = /*#__PURE__*/function (_Component) {\n  _inherits(BaseResourceItem, _Component);\n\n  var _super = _createSuper(BaseResourceItem);\n\n  function BaseResourceItem() {\n    var _this;\n\n    _classCallCheck(this, BaseResourceItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      actionsMenuVisible: false,\n      focused: false,\n      focusedInner: false,\n      selected: isSelected(_this.props.id, _this.props.context.selectedItems)\n    };\n    _this.node = null;\n    _this.checkboxId = getUniqueCheckboxID();\n    _this.overlayId = getUniqueOverlayID();\n    _this.buttonOverlay = /*#__PURE__*/createRef();\n\n    _this.setNode = function (node) {\n      _this.node = node;\n    };\n\n    _this.handleFocus = function (event) {\n      if (event.target === _this.buttonOverlay.current || _this.node && event.target === _this.node.querySelector(\"#\".concat(_this.overlayId))) {\n        _this.setState({\n          focused: true,\n          focusedInner: false\n        });\n      } else if (_this.node && _this.node.contains(event.target)) {\n        _this.setState({\n          focused: true,\n          focusedInner: true\n        });\n      }\n    };\n\n    _this.handleBlur = function (_ref) {\n      var relatedTarget = _ref.relatedTarget;\n\n      if (_this.node && relatedTarget instanceof Element && _this.node.contains(relatedTarget)) {\n        return;\n      }\n\n      _this.setState({\n        focused: false,\n        focusedInner: false\n      });\n    };\n\n    _this.handleMouseOut = function () {\n      _this.state.focused && _this.setState({\n        focused: false,\n        focusedInner: false\n      });\n    };\n\n    _this.handleLargerSelectionArea = function (event) {\n      stopPropagation(event);\n\n      _this.handleSelection(!_this.state.selected, event.nativeEvent.shiftKey);\n    };\n\n    _this.handleSelection = function (value, shiftKey) {\n      var _this$props = _this.props,\n          id = _this$props.id,\n          sortOrder = _this$props.sortOrder,\n          onSelectionChange = _this$props.context.onSelectionChange;\n\n      if (id == null || onSelectionChange == null) {\n        return;\n      }\n\n      _this.setState({\n        focused: value,\n        focusedInner: value\n      });\n\n      onSelectionChange(value, id, sortOrder, shiftKey);\n    };\n\n    _this.handleClick = function (event) {\n      stopPropagation(event);\n      var _this$props2 = _this.props,\n          id = _this$props2.id,\n          onClick = _this$props2.onClick,\n          url = _this$props2.url,\n          selectMode = _this$props2.context.selectMode;\n      var _event$nativeEvent = event.nativeEvent,\n          ctrlKey = _event$nativeEvent.ctrlKey,\n          metaKey = _event$nativeEvent.metaKey;\n\n      var anchor = _this.node && _this.node.querySelector('a');\n\n      if (selectMode) {\n        _this.handleLargerSelectionArea(event);\n\n        return;\n      }\n\n      if (anchor === event.target) {\n        return;\n      }\n\n      if (onClick) {\n        onClick(id);\n      }\n\n      if (url && (ctrlKey || metaKey)) {\n        window.open(url, '_blank');\n        return;\n      }\n\n      if (url && anchor) {\n        anchor.click();\n      }\n    };\n\n    _this.handleKeyUp = function (event) {\n      var _this$props3 = _this.props,\n          _this$props3$onClick = _this$props3.onClick,\n          onClick = _this$props3$onClick === void 0 ? noop : _this$props3$onClick,\n          selectMode = _this$props3.context.selectMode;\n      var key = event.key;\n\n      if (key === 'Enter' && _this.props.url && !selectMode) {\n        onClick();\n      }\n    };\n\n    _this.handleActionsClick = function () {\n      _this.setState(function (_ref2) {\n        var actionsMenuVisible = _ref2.actionsMenuVisible;\n        return {\n          actionsMenuVisible: !actionsMenuVisible\n        };\n      });\n    };\n\n    _this.handleCloseRequest = function () {\n      _this.setState({\n        actionsMenuVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BaseResourceItem, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var nextChildren = nextProps.children,\n          _nextProps$context = nextProps.context,\n          nextSelectedItems = _nextProps$context.selectedItems,\n          restNextContext = _objectWithoutProperties(_nextProps$context, _excluded),\n          restNextProps = _objectWithoutProperties(nextProps, _excluded2);\n\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          _this$props4$context = _this$props4.context,\n          selectedItems = _this$props4$context.selectedItems,\n          restContext = _objectWithoutProperties(_this$props4$context, _excluded3),\n          restProps = _objectWithoutProperties(_this$props4, _excluded4);\n\n      var nextSelectMode = nextProps.context.selectMode;\n      return !isEqual(this.state, nextState) || this.props.context.selectMode !== nextSelectMode || !nextProps.context.selectMode && (!isEqual(restProps, restNextProps) || !isEqual(restContext, restNextContext));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          url = _this$props5.url,\n          external = _this$props5.external,\n          media = _this$props5.media,\n          shortcutActions = _this$props5.shortcutActions,\n          ariaControls = _this$props5.ariaControls,\n          ariaExpanded = _this$props5.ariaExpanded,\n          _this$props5$persistA = _this$props5.persistActions,\n          persistActions = _this$props5$persistA === void 0 ? false : _this$props5$persistA,\n          accessibilityLabel = _this$props5.accessibilityLabel,\n          name = _this$props5.name,\n          _this$props5$context = _this$props5.context,\n          selectable = _this$props5$context.selectable,\n          selectMode = _this$props5$context.selectMode,\n          loading = _this$props5$context.loading,\n          resourceName = _this$props5$context.resourceName,\n          i18n = _this$props5.i18n,\n          verticalAlignment = _this$props5.verticalAlignment,\n          dataHref = _this$props5.dataHref;\n      var _this$state = this.state,\n          actionsMenuVisible = _this$state.actionsMenuVisible,\n          focused = _this$state.focused,\n          focusedInner = _this$state.focusedInner,\n          selected = _this$state.selected;\n      var ownedMarkup = null;\n      var handleMarkup = null;\n      var mediaMarkup = media ? /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.Media\n      }, media) : null;\n\n      if (selectable) {\n        var checkboxAccessibilityLabel = name || accessibilityLabel || i18n.translate('Polaris.Common.checkbox');\n        handleMarkup = /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.Handle,\n          onClick: this.handleLargerSelectionArea\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          onClick: stopPropagation,\n          className: styles.CheckboxWrapper\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          onChange: this.handleLargerSelectionArea\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          id: this.checkboxId,\n          label: checkboxAccessibilityLabel,\n          labelHidden: true,\n          checked: selected,\n          disabled: loading\n        }))));\n      }\n\n      if (media || selectable) {\n        ownedMarkup = /*#__PURE__*/React.createElement(\"div\", {\n          className: classNames(styles.Owned, !mediaMarkup && styles.OwnedNoMedia)\n        }, handleMarkup, mediaMarkup);\n      }\n\n      var className = classNames(styles.ResourceItem, focused && styles.focused, selectable && styles.selectable, selected && styles.selected, selectMode && styles.selectMode, persistActions && styles.persistActions, focusedInner && styles.focusedInner);\n      var listItemClassName = classNames(styles.ListItem, focused && !focusedInner && styles.focused);\n      var actionsMarkup = null;\n      var disclosureMarkup = null;\n\n      if (shortcutActions && !loading) {\n        if (persistActions) {\n          actionsMarkup = /*#__PURE__*/React.createElement(\"div\", {\n            className: styles.Actions,\n            onClick: stopPropagation\n          }, /*#__PURE__*/React.createElement(ButtonGroup, null, buttonsFrom(shortcutActions, {\n            plain: true\n          })));\n          var disclosureAccessibilityLabel = name ? i18n.translate('Polaris.ResourceList.Item.actionsDropdownLabel', {\n            accessibilityLabel: name\n          }) : i18n.translate('Polaris.ResourceList.Item.actionsDropdown');\n          disclosureMarkup = /*#__PURE__*/React.createElement(\"div\", {\n            className: styles.Disclosure,\n            onClick: stopPropagation\n          }, /*#__PURE__*/React.createElement(Popover, {\n            activator: /*#__PURE__*/React.createElement(Button, {\n              accessibilityLabel: disclosureAccessibilityLabel,\n              onClick: this.handleActionsClick,\n              plain: true,\n              icon: HorizontalDotsMinor\n            }),\n            onClose: this.handleCloseRequest,\n            active: actionsMenuVisible\n          }, /*#__PURE__*/React.createElement(ActionList, {\n            items: shortcutActions\n          })));\n        } else {\n          actionsMarkup = /*#__PURE__*/React.createElement(\"div\", {\n            className: styles.Actions,\n            onClick: stopPropagation\n          }, /*#__PURE__*/React.createElement(ButtonGroup, {\n            segmented: true\n          }, buttonsFrom(shortcutActions, {\n            size: 'slim'\n          })));\n        }\n      }\n\n      var content = children ? /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.Content\n      }, children) : null;\n      var containerClassName = classNames(styles.Container, verticalAlignment && styles[variationName('alignment', verticalAlignment)]);\n      var containerMarkup = /*#__PURE__*/React.createElement(\"div\", {\n        className: containerClassName,\n        id: this.props.id\n      }, ownedMarkup, content, actionsMarkup, disclosureMarkup);\n      var tabIndex = loading ? -1 : 0;\n      var ariaLabel = accessibilityLabel || i18n.translate('Polaris.ResourceList.Item.viewItem', {\n        itemName: name || resourceName && resourceName.singular || ''\n      });\n      var accessibleMarkup = url ? /*#__PURE__*/React.createElement(UnstyledLink, {\n        \"aria-describedby\": this.props.id,\n        \"aria-label\": ariaLabel,\n        className: styles.Link,\n        url: url,\n        external: external,\n        tabIndex: tabIndex,\n        id: this.overlayId\n      }) : /*#__PURE__*/React.createElement(\"button\", {\n        className: styles.Button,\n        \"aria-label\": ariaLabel,\n        \"aria-controls\": ariaControls,\n        \"aria-expanded\": ariaExpanded,\n        onClick: this.handleClick,\n        tabIndex: tabIndex,\n        ref: this.buttonOverlay\n      });\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: listItemClassName,\n        \"data-href\": dataHref\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.ItemWrapper\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.setNode,\n        className: className,\n        onClick: this.handleClick,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onKeyUp: this.handleKeyUp,\n        onMouseOut: this.handleMouseOut,\n        \"data-href\": url\n      }, accessibleMarkup, containerMarkup)));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var selected = isSelected(nextProps.id, nextProps.context.selectedItems);\n\n      if (prevState.selected === selected) {\n        return null;\n      }\n\n      return {\n        selected: selected\n      };\n    }\n  }]);\n\n  return BaseResourceItem;\n}(Component);\n\nfunction noop() {}\n\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nfunction isSelected(id, selectedItems) {\n  return Boolean(selectedItems && (Array.isArray(selectedItems) && selectedItems.includes(id) || selectedItems === SELECT_ALL_ITEMS));\n}\n\nfunction ResourceItem(props) {\n  return /*#__PURE__*/React.createElement(BaseResourceItem, Object.assign({}, props, {\n    context: useContext(ResourceListContext),\n    i18n: useI18n()\n  }));\n}\n\nexport { ResourceItem };","map":{"version":3,"sources":["/Users/ayubmohamed/emwb/node_modules/@shopify/polaris/build/esm/components/ResourceItem/ResourceItem.js"],"names":["React","useContext","Component","createRef","HorizontalDotsMinor","isEqual","classNames","variationName","styles","SELECT_ALL_ITEMS","ResourceListContext","useI18n","Checkbox","ButtonGroup","buttonsFrom","Popover","Button","ActionList","UnstyledLink","globalIdGeneratorFactory","getUniqueCheckboxID","getUniqueOverlayID","BaseResourceItem","args","state","actionsMenuVisible","focused","focusedInner","selected","isSelected","props","id","context","selectedItems","node","checkboxId","overlayId","buttonOverlay","setNode","handleFocus","event","target","current","querySelector","setState","contains","handleBlur","relatedTarget","Element","handleMouseOut","handleLargerSelectionArea","stopPropagation","handleSelection","nativeEvent","shiftKey","value","sortOrder","onSelectionChange","handleClick","onClick","url","selectMode","ctrlKey","metaKey","anchor","window","open","click","handleKeyUp","noop","key","handleActionsClick","handleCloseRequest","nextProps","nextState","nextChildren","children","nextSelectedItems","restNextContext","restNextProps","restContext","restProps","nextSelectMode","external","media","shortcutActions","ariaControls","ariaExpanded","persistActions","accessibilityLabel","name","selectable","loading","resourceName","i18n","verticalAlignment","dataHref","ownedMarkup","handleMarkup","mediaMarkup","createElement","className","Media","checkboxAccessibilityLabel","translate","Handle","CheckboxWrapper","onChange","label","labelHidden","checked","disabled","Owned","OwnedNoMedia","ResourceItem","listItemClassName","ListItem","actionsMarkup","disclosureMarkup","Actions","plain","disclosureAccessibilityLabel","Disclosure","activator","icon","onClose","active","items","segmented","size","content","Content","containerClassName","Container","containerMarkup","tabIndex","ariaLabel","itemName","singular","accessibleMarkup","Link","ref","ItemWrapper","onFocus","onBlur","onKeyUp","onMouseOut","prevState","Boolean","Array","isArray","includes","Object","assign"],"mappings":"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","sourcesContent":["import React, { useContext, Component, createRef } from 'react';\nimport { HorizontalDotsMinor } from '@shopify/polaris-icons';\nimport isEqual from 'lodash/isEqual';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport styles from './ResourceItem.scss.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Checkbox } from '../Checkbox/Checkbox.js';\nimport { ButtonGroup } from '../ButtonGroup/ButtonGroup.js';\nimport { buttonsFrom } from '../Button/utils.js';\nimport { Popover } from '../Popover/Popover.js';\nimport { Button } from '../Button/Button.js';\nimport { ActionList } from '../ActionList/ActionList.js';\nimport { UnstyledLink } from '../UnstyledLink/UnstyledLink.js';\nimport { globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\n\nconst getUniqueCheckboxID = globalIdGeneratorFactory('ResourceListItemCheckbox');\nconst getUniqueOverlayID = globalIdGeneratorFactory('ResourceListItemOverlay');\n\nclass BaseResourceItem extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      actionsMenuVisible: false,\n      focused: false,\n      focusedInner: false,\n      selected: isSelected(this.props.id, this.props.context.selectedItems)\n    };\n    this.node = null;\n    this.checkboxId = getUniqueCheckboxID();\n    this.overlayId = getUniqueOverlayID();\n    this.buttonOverlay = /*#__PURE__*/createRef();\n\n    this.setNode = node => {\n      this.node = node;\n    };\n\n    this.handleFocus = event => {\n      if (event.target === this.buttonOverlay.current || this.node && event.target === this.node.querySelector(`#${this.overlayId}`)) {\n        this.setState({\n          focused: true,\n          focusedInner: false\n        });\n      } else if (this.node && this.node.contains(event.target)) {\n        this.setState({\n          focused: true,\n          focusedInner: true\n        });\n      }\n    };\n\n    this.handleBlur = ({\n      relatedTarget\n    }) => {\n      if (this.node && relatedTarget instanceof Element && this.node.contains(relatedTarget)) {\n        return;\n      }\n\n      this.setState({\n        focused: false,\n        focusedInner: false\n      });\n    };\n\n    this.handleMouseOut = () => {\n      this.state.focused && this.setState({\n        focused: false,\n        focusedInner: false\n      });\n    };\n\n    this.handleLargerSelectionArea = event => {\n      stopPropagation(event);\n      this.handleSelection(!this.state.selected, event.nativeEvent.shiftKey);\n    };\n\n    this.handleSelection = (value, shiftKey) => {\n      const {\n        id,\n        sortOrder,\n        context: {\n          onSelectionChange\n        }\n      } = this.props;\n\n      if (id == null || onSelectionChange == null) {\n        return;\n      }\n\n      this.setState({\n        focused: value,\n        focusedInner: value\n      });\n      onSelectionChange(value, id, sortOrder, shiftKey);\n    };\n\n    this.handleClick = event => {\n      stopPropagation(event);\n      const {\n        id,\n        onClick,\n        url,\n        context: {\n          selectMode\n        }\n      } = this.props;\n      const {\n        ctrlKey,\n        metaKey\n      } = event.nativeEvent;\n      const anchor = this.node && this.node.querySelector('a');\n\n      if (selectMode) {\n        this.handleLargerSelectionArea(event);\n        return;\n      }\n\n      if (anchor === event.target) {\n        return;\n      }\n\n      if (onClick) {\n        onClick(id);\n      }\n\n      if (url && (ctrlKey || metaKey)) {\n        window.open(url, '_blank');\n        return;\n      }\n\n      if (url && anchor) {\n        anchor.click();\n      }\n    };\n\n    this.handleKeyUp = event => {\n      const {\n        onClick = noop,\n        context: {\n          selectMode\n        }\n      } = this.props;\n      const {\n        key\n      } = event;\n\n      if (key === 'Enter' && this.props.url && !selectMode) {\n        onClick();\n      }\n    };\n\n    this.handleActionsClick = () => {\n      this.setState(({\n        actionsMenuVisible\n      }) => ({\n        actionsMenuVisible: !actionsMenuVisible\n      }));\n    };\n\n    this.handleCloseRequest = () => {\n      this.setState({\n        actionsMenuVisible: false\n      });\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const selected = isSelected(nextProps.id, nextProps.context.selectedItems);\n\n    if (prevState.selected === selected) {\n      return null;\n    }\n\n    return {\n      selected\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const {\n      children: nextChildren,\n      context: {\n        selectedItems: nextSelectedItems,\n        ...restNextContext\n      },\n      ...restNextProps\n    } = nextProps;\n    const {\n      children,\n      context: {\n        selectedItems,\n        ...restContext\n      },\n      ...restProps\n    } = this.props;\n    const nextSelectMode = nextProps.context.selectMode;\n    return !isEqual(this.state, nextState) || this.props.context.selectMode !== nextSelectMode || !nextProps.context.selectMode && (!isEqual(restProps, restNextProps) || !isEqual(restContext, restNextContext));\n  }\n\n  render() {\n    const {\n      children,\n      url,\n      external,\n      media,\n      shortcutActions,\n      ariaControls,\n      ariaExpanded,\n      persistActions = false,\n      accessibilityLabel,\n      name,\n      context: {\n        selectable,\n        selectMode,\n        loading,\n        resourceName\n      },\n      i18n,\n      verticalAlignment,\n      dataHref\n    } = this.props;\n    const {\n      actionsMenuVisible,\n      focused,\n      focusedInner,\n      selected\n    } = this.state;\n    let ownedMarkup = null;\n    let handleMarkup = null;\n    const mediaMarkup = media ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Media\n    }, media) : null;\n\n    if (selectable) {\n      const checkboxAccessibilityLabel = name || accessibilityLabel || i18n.translate('Polaris.Common.checkbox');\n      handleMarkup = /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.Handle,\n        onClick: this.handleLargerSelectionArea\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: stopPropagation,\n        className: styles.CheckboxWrapper\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onChange: this.handleLargerSelectionArea\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        id: this.checkboxId,\n        label: checkboxAccessibilityLabel,\n        labelHidden: true,\n        checked: selected,\n        disabled: loading\n      }))));\n    }\n\n    if (media || selectable) {\n      ownedMarkup = /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(styles.Owned, !mediaMarkup && styles.OwnedNoMedia)\n      }, handleMarkup, mediaMarkup);\n    }\n\n    const className = classNames(styles.ResourceItem, focused && styles.focused, selectable && styles.selectable, selected && styles.selected, selectMode && styles.selectMode, persistActions && styles.persistActions, focusedInner && styles.focusedInner);\n    const listItemClassName = classNames(styles.ListItem, focused && !focusedInner && styles.focused);\n    let actionsMarkup = null;\n    let disclosureMarkup = null;\n\n    if (shortcutActions && !loading) {\n      if (persistActions) {\n        actionsMarkup = /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.Actions,\n          onClick: stopPropagation\n        }, /*#__PURE__*/React.createElement(ButtonGroup, null, buttonsFrom(shortcutActions, {\n          plain: true\n        })));\n        const disclosureAccessibilityLabel = name ? i18n.translate('Polaris.ResourceList.Item.actionsDropdownLabel', {\n          accessibilityLabel: name\n        }) : i18n.translate('Polaris.ResourceList.Item.actionsDropdown');\n        disclosureMarkup = /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.Disclosure,\n          onClick: stopPropagation\n        }, /*#__PURE__*/React.createElement(Popover, {\n          activator: /*#__PURE__*/React.createElement(Button, {\n            accessibilityLabel: disclosureAccessibilityLabel,\n            onClick: this.handleActionsClick,\n            plain: true,\n            icon: HorizontalDotsMinor\n          }),\n          onClose: this.handleCloseRequest,\n          active: actionsMenuVisible\n        }, /*#__PURE__*/React.createElement(ActionList, {\n          items: shortcutActions\n        })));\n      } else {\n        actionsMarkup = /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.Actions,\n          onClick: stopPropagation\n        }, /*#__PURE__*/React.createElement(ButtonGroup, {\n          segmented: true\n        }, buttonsFrom(shortcutActions, {\n          size: 'slim'\n        })));\n      }\n    }\n\n    const content = children ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Content\n    }, children) : null;\n    const containerClassName = classNames(styles.Container, verticalAlignment && styles[variationName('alignment', verticalAlignment)]);\n    const containerMarkup = /*#__PURE__*/React.createElement(\"div\", {\n      className: containerClassName,\n      id: this.props.id\n    }, ownedMarkup, content, actionsMarkup, disclosureMarkup);\n    const tabIndex = loading ? -1 : 0;\n    const ariaLabel = accessibilityLabel || i18n.translate('Polaris.ResourceList.Item.viewItem', {\n      itemName: name || resourceName && resourceName.singular || ''\n    });\n    const accessibleMarkup = url ? /*#__PURE__*/React.createElement(UnstyledLink, {\n      \"aria-describedby\": this.props.id,\n      \"aria-label\": ariaLabel,\n      className: styles.Link,\n      url: url,\n      external: external,\n      tabIndex: tabIndex,\n      id: this.overlayId\n    }) : /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.Button,\n      \"aria-label\": ariaLabel,\n      \"aria-controls\": ariaControls,\n      \"aria-expanded\": ariaExpanded,\n      onClick: this.handleClick,\n      tabIndex: tabIndex,\n      ref: this.buttonOverlay\n    });\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: listItemClassName,\n      \"data-href\": dataHref\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ItemWrapper\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.setNode,\n      className: className,\n      onClick: this.handleClick,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onKeyUp: this.handleKeyUp,\n      onMouseOut: this.handleMouseOut,\n      \"data-href\": url\n    }, accessibleMarkup, containerMarkup)));\n  }\n\n}\n\nfunction noop() {}\n\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nfunction isSelected(id, selectedItems) {\n  return Boolean(selectedItems && (Array.isArray(selectedItems) && selectedItems.includes(id) || selectedItems === SELECT_ALL_ITEMS));\n}\n\nfunction ResourceItem(props) {\n  return /*#__PURE__*/React.createElement(BaseResourceItem, Object.assign({}, props, {\n    context: useContext(ResourceListContext),\n    i18n: useI18n()\n  }));\n}\n\nexport { ResourceItem };\n"]},"metadata":{},"sourceType":"module"}